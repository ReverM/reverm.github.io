/*! @license pzpr.js v7f9addbe (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(e,r){"object"==typeof module&&module.exports?module.exports=[e,r]:pzpr.classmgr.makeCustom(e,r)}(["aqre"],{MouseEvent:{use:!0,inputModes:{edit:["border","number","clear","info-blk"],play:["shade","unshade","peke","info-blk"]},autoedit_func:"areanum",autoplay_func:"cell"},KeyEvent:{enablemake:!0},Cell:{maxnum:function(){var e=this.room.clist.getRectSize();return e.cols*e.rows},minnum:0},Board:{hasborder:1},AreaShadeGraph:{enabled:!0},AreaRoomGraph:{enabled:!0,hastop:!0},Graphic:{gridcolor_type:"DARK",enablebcolor:!0,bgcellcolor_func:"qsub1",paint:function(){this.drawBGCells(),this.drawShadedCells(),this.drawGrid(),this.drawQuesNumbers(),this.drawBorders(),this.drawChassis(),this.drawBoxBorders(!1),this.drawPekes(),this.drawTarget()}},Encode:{decodePzpr:function(e){this.decodeBorder(),this.decodeRoomNumber16(),this.puzzle.setConfig("aqre_borders",this.checkpflag("b"))},encodePzpr:function(e){this.outpflag=this.puzzle.getConfig("aqre_borders")?"b":null,this.encodeBorder(),this.encodeRoomNumber16()}},FileIO:{decodeData:function(){this.decodeConfigFlag("b","aqre_borders"),1<=this.filever?this.decodeBorderQues():this.decodeAreaRoom(),this.decodeCellQnum(),this.decodeCellAns(),this.decodeBorderLine()},encodeData:function(){this.filever=1,this.encodeConfigFlag("b","aqre_borders"),this.encodeBorderQues(),this.encodeCellQnum(),this.encodeCellAns(),this.encodeBorderLineIfPresent()}},AnsCheck:{checklist:["checkBorderShaded","checkConnectShade","checkShadeCellCount","checkContinuousShadeCell","checkBorderEmpty","checkContinuousUnshadeCell","doneShadingDecided"],checkBorderShaded:function(){this.genericCheckBorder(function(e){return e.isShade()},"cbShade")},checkBorderEmpty:function(){this.genericCheckBorder(function(e){return!e.isShade()},"cbUnshade")},genericCheckBorder:function(e,r){if(this.puzzle.getConfig("aqre_borders"))for(var o=this.board,i=0;i<o.cell.length;i++){var n=o.cell[i];if(e(n)){var t,d=["right","bottom"];for(t in d){var c=d[t],s=n.adjborder[c];if(s&&s.isBorder()){s=n.adjacent[c];if(e(s)){if(this.failcode.add(r),this.checkOnly)return;n.seterr(1),s.seterr(1)}}}}}},checkRun3:function(e,r){for(var o=this.board,i=0;i<o.cell.length;i++){var n=(c=o.cell[i]).bx,t=c.by;if(!(c.bx>o.maxbx-7)){var d=o.cellinside(n,t,n+6,t).filter(e);if(!(d.length<4)){if(this.failcode.add(r),this.checkOnly)break;d.seterr(1)}}}for(i=0;i<o.cell.length;i++){var c,n=(c=o.cell[i]).bx,t=c.by;if(!(c.by>o.maxby-7)){d=o.cellinside(n,t,n,t+6).filter(e);if(!(d.length<4)){if(this.failcode.add(r),this.checkOnly)break;d.seterr(1)}}}},checkContinuousShadeCell:function(){this.checkRun3(function(e){return e.isShade()},"cs3")},checkContinuousUnshadeCell:function(){this.checkRun3(function(e){return!e.isShade()},"cu3")}}});
//# sourceMappingURL=aqre.js.map