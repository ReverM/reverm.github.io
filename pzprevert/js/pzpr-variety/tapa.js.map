{"version":3,"file":"tapa.js","sources":["../../../src/variety/tapa.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","use","inputModes","edit","play","autoedit_func","autoplay_func","mouseinput_clear","cell","this","getcell","isnull","mouseCell","setQnums","setQans","setQsub","draw","inputqnum","cursor","getc","setcursor","inputqnum_tapa_main","states","qnum_states","state","i","length","puzzle","util","sameArray","qnums","inputMode","btn","KeyEvent","enablemake","keyinput","ca","key_inputqnums","Cell","minnum","maxnum","n1","n2","push","n3","isValidQnums","val","sum","allowUnshade","allowShade","getShadedLength","result","shaded","addrs","k","relcell","isShade","shades","split","shift","pop","charAt","Board","hasborder","AreaShadeGraph","enabled","coloring","Graphic","irowakeblk","qanscolor","paint","drawBGCells","drawShadedCells","drawDotCells","drawGrid","drawTapaNumbers","drawChassis","drawPekes","drawTarget","Encode","decodePzpr","type","decodeNumber_tapa","encodePzpr","encodeNumber_tapa","c","bstr","outbstr","bd","board","include","parseInt","num","substr","count","cm","pstr","qn","toString","FileIO","decodeData","decodeCellQnumAns_tapa","decodeBorderLine","encodeData","encodeCellQnumAns_tapa","encodeBorderLineIfPresent","decodeCell","qans","qsub","array","encodeCell","join","AnsCheck","checklist","checkCountOfClueCell","checkAllCell","idx","indexOf","splice"],"mappings":";;CAGA,SAAUA,EAASC,GACI,iBAAXC,QAAuBA,OAAOC,QACxCD,OAAOC,QAAU,CAACH,EAASC,GAE3BG,KAAKC,SAASC,WAAWN,EAASC,GAJpC,CAMG,CAAC,QAAS,CAGZM,WAAY,CACXC,KAAK,EACLC,WAAY,CACXC,KAAM,CAAC,SAAU,QAAS,YAC1BC,KAAM,CAAC,QAAS,UAAW,OAAQ,aAEpCC,cAAe,OACfC,cAAe,OACfC,iBAAkB,WACjB,IAAIC,EAAOC,KAAKC,UACZF,EAAKG,QAAUH,IAASC,KAAKG,YAIjCJ,EAAKK,SAAS,IACdL,EAAKM,QAAQ,GACbN,EAAKO,QAAQ,GACbP,EAAKQ,OACLP,KAAKG,UAAYJ,IAGlBS,UAAW,WACV,IAAIT,EAAOC,KAAKC,UACZF,EAAKG,QAAUH,IAASC,KAAKG,YAI7BJ,IAASC,KAAKS,OAAOC,OACxBV,KAAKW,UAAUZ,GAEfC,KAAKY,oBAAoBb,GAE1BC,KAAKG,UAAYJ,IAElBa,oBAAqB,SAASb,GAG7B,IAFA,IAAIc,EAASd,EAAKe,YACjBC,EAAQ,EACAC,EAAI,EAAGA,EAAIH,EAAOI,OAAQD,IAClC,GAAIhB,KAAKkB,OAAO9B,KAAK+B,KAAKC,UAAUrB,EAAKsB,MAAOR,EAAOG,IAAK,CAC3DD,EAAQC,EACR,MAKkB,WAAnBhB,KAAKsB,WACe,SAAnBtB,KAAKsB,WAAqC,SAAbtB,KAAKuB,IAE/BR,EAAQF,EAAOI,OAAS,EAC3BF,IAEAA,EAAQ,EAGG,EAARA,EACHA,IAEAA,EAAQF,EAAOI,OAAS,EAG1BlB,EAAKK,SAASS,EAAOE,IACrBhB,EAAKM,QAAQ,GACbN,EAAKO,QAAQ,GAEbP,EAAKQ,SAMPiB,SAAU,CACTC,YAAY,EAEZC,SAAU,SAASC,GAClB3B,KAAK4B,eAAeD,KAMtBE,KAAM,CACLC,OAAQ,EACRC,OAAQ,EACRjB,YAAa,WAGZ,IAFA,IAAID,EAAS,CAAC,GAAI,EAAE,GAAI,CAAC,GAAI,CAAC,GAAI,CAAC,GAAI,CAAC,GAAI,CAAC,GAAI,CAAC,GAAI,CAAC,GAAI,CAAC,GAAI,CAAC,IAExDmB,EAAK,EAAGA,GAAM,EAAGA,IACzB,IAAK,IAAIC,EAAK,EAAGA,GAAM,EAAGA,KACb,EAALD,EAASA,EAAK,IAAW,EAALC,EAASA,EAAK,IAC9B,GACVpB,EAAOqB,KAAK,CAAM,EAALF,EAASA,GAAM,EAAQ,EAALC,EAASA,GAAM,IAIjD,IAASD,EAAK,EAAGA,GAAM,EAAGA,IACzB,IAASC,EAAK,EAAGA,GAAM,EAAGA,IACzB,IAAK,IAAIE,EAAK,EAAGA,GAAM,EAAGA,KACb,EAALH,EAASA,EAAK,IAAW,EAALC,EAASA,EAAK,IAAW,EAALE,EAASA,EAAK,IAClD,GACVtB,EAAOqB,KAAK,CACN,EAALF,EAASA,GAAM,EACV,EAALC,EAASA,GAAM,EACV,EAALE,EAASA,GAAM,IAOpB,OADAtB,EAAOqB,KAAK,CAAC,EAAG,EAAG,EAAG,IACfrB,EA1BK,GA6BbuB,aAAc,SAASC,GACtB,GAAmB,IAAfA,EAAIpB,OACP,OAAO,EAER,GAAmB,IAAfoB,EAAIpB,OACP,OAAOoB,EAAI,IAAM,EAIlB,IADA,IAAIC,EAAM,EACDtB,EAAI,EAAGA,EAAIqB,EAAIpB,OAAQD,IAAK,CACpC,GAAe,IAAXqB,EAAIrB,GACP,OAAO,EAERsB,GAAiB,GAAVD,EAAIrB,GAAUqB,EAAIrB,GAAK,EAE/B,OAAOqB,EAAIpB,OAASqB,GAAO,GAG5BC,aAAc,WACb,OAA6B,IAAtBvC,KAAKqB,MAAMJ,QAEnBuB,WAAY,WACX,OAA6B,IAAtBxC,KAAKqB,MAAMJ,QAEnBwB,gBAAiB,WAahB,IAZA,IAAIC,EAAS,GACZC,EAAS,GACNC,EAAQ,CACX,EAAE,GAAI,GACN,CAAC,GAAI,GACL,CAAC,GAAI,GACL,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,EAAE,EAAG,GACL,EAAE,EAAG,IAEGC,EAAI,EAAGA,EAAID,EAAM3B,OAAQ4B,IAAK,CACtC,IAAI9C,EAAOC,KAAK8C,QAAQF,EAAMC,GAAG,GAAID,EAAMC,GAAG,IAC9CF,GAAU,KAAO5C,EAAKG,QAAUH,EAAKgD,UAAY,EAAI,GAEtD,IAAIC,EAASL,EAAOM,MAAM,MAC1B,GAAoB,EAAhBD,EAAO/B,OAAY,CACG,IAArB+B,EAAO,GAAG/B,QACb+B,EAAOE,QAEiC,IAArCF,EAAOA,EAAO/B,OAAS,GAAGA,QAC7B+B,EAAOG,MAGS,EAAhBH,EAAO/B,QACc,MAArB0B,EAAOS,OAAO,IACO,MAArBT,EAAOS,OAAO,KAEdJ,EAAO,IAAMA,EAAOG,OAErB,IAAK,IAAInC,EAAI,EAAGA,EAAIgC,EAAO/B,OAAQD,IAClC0B,EAAOR,KAAKc,EAAOhC,GAAGC,QAMxB,OAFCyB,EADqB,IAAlBA,EAAOzB,OACD,CAAC,GAEJyB,IAITW,MAAO,CACNC,UAAW,GAGZC,eAAgB,CACfC,SAAS,EACTC,UAAU,GAKXC,QAAS,CACRC,YAAY,EACZC,UAAW,QAEXC,MAAO,WACN7D,KAAK8D,cACL9D,KAAK+D,kBACL/D,KAAKgE,eACLhE,KAAKiE,WAELjE,KAAKkE,kBAELlE,KAAKmE,cAELnE,KAAKoE,YAELpE,KAAKqE,eAMPC,OAAQ,CACPC,WAAY,SAASC,GACpBxE,KAAKyE,qBAENC,WAAY,SAASF,GACpBxE,KAAK2E,qBAGNF,kBAAmB,WAKlB,IAJA,IAAIG,EAAI,EACP5D,EAAI,EACJ6D,EAAO7E,KAAK8E,QACZC,EAAK/E,KAAKgF,MACNhE,EAAI,EAAGA,EAAI6D,EAAK5D,OAAQD,IAAK,CACjC,IAAIjB,EAAOgF,EAAGhF,KAAK6E,GAClBjD,EAAKkD,EAAKzB,OAAOpC,GAElB,GAAIhB,KAAKiF,QAAQtD,EAAI,IAAK,KACzB5B,EAAKsB,MAAQ,CAAC6D,SAASvD,EAAI,UACrB,GAAW,MAAPA,EACV5B,EAAKsB,MAAQ,CAAC,EAAG,EAAG,EAAG,QACjB,GAAW,MAAPM,EACV5B,EAAKsB,MAAQ,EAAE,QACT,GAAIrB,KAAKiF,QAAQtD,EAAI,IAAK,KAAM,CACtC,IAAIwD,EAAMD,SAASL,EAAKO,OAAOpE,EAAG,GAAI,IACrCqB,EAAM,GACI,KAAP8C,GAAcA,EAAM,MAEvB9C,EAAM,CAAC,EAAG,IACN,IAFJ8C,GAAO,KAES,EAAK,EACrBA,GAAgB,EAAT9C,EAAI,GACXA,EAAI,GAAK8C,GACQ,KAAPA,GAAcA,EAAM,MAE9B9C,EAAM,CAAC,EAAG,EAAG,IACT,IAFJ8C,GAAO,KAES,GAAM,EACtBA,GAAgB,GAAT9C,EAAI,GACXA,EAAI,GAAM8C,EAAM,EAAK,EACrBA,GAAgB,EAAT9C,EAAI,GACXA,EAAI,GAAK8C,GACQ,KAAPA,GAAcA,EAAM,OAE9B9C,EAAM,CAAC,EAAG,EAAG,EAAG,IACZ,IAFJ8C,GAAO,KAES,EAAK,EACrBA,GAAgB,EAAT9C,EAAI,GACXA,EAAI,GAAM8C,EAAM,EAAK,EACrBA,GAAgB,EAAT9C,EAAI,GACXA,EAAI,GAAM8C,EAAM,EAAK,EACrBA,GAAgB,EAAT9C,EAAI,GACXA,EAAI,GAAK8C,GAEV,IAAK,IAAItC,EAAI,EAAGA,EAAI,EAAGA,IACP,IAAXR,EAAIQ,KACPR,EAAIQ,IAAM,GAGZ9C,EAAKsB,MAAQgB,EACbrB,QACgB,KAANW,GAAaA,GAAM,MAC7BiD,GAAKM,SAASvD,EAAI,IAAM,IAIzB,GADAiD,KACKG,EAAGhF,KAAK6E,GACZ,MAGF5E,KAAK8E,QAAUD,EAAKO,OAAOpE,EAAI,IAEhC2D,kBAAmB,WAIlB,IAHA,IAAIU,EAAQ,EACXC,EAAK,GACLP,EAAK/E,KAAKgF,MACFJ,EAAI,EAAGA,EAAIG,EAAGhF,KAAKkB,OAAQ2D,IAAK,CACxC,IAAIW,EAAO,GACVC,EAAKT,EAAGhF,KAAK6E,GAAGvD,MAEC,IAAdmE,EAAGvE,OAELsE,GADc,IAAXC,EAAG,GACC,IAEAA,EAAG,GAAGC,SAAS,IAEC,IAAdD,EAAGvE,OACbsE,GAC2B,GAAjB,EAARC,EAAG,GAASA,EAAG,GAAK,IACZ,EAARA,EAAG,GAASA,EAAG,GAAK,GACrB,KACCC,SAAS,IACa,IAAdD,EAAGvE,OACbsE,GAC2B,IAAjB,EAARC,EAAG,GAASA,EAAG,GAAK,GACK,GAAjB,EAARA,EAAG,GAASA,EAAG,GAAK,IACZ,EAARA,EAAG,GAASA,EAAG,GAAK,GACrB,KACCC,SAAS,IACa,IAAdD,EAAGvE,OAEZsE,EADGvF,KAAKkB,OAAO9B,KAAK+B,KAAKC,UAAUoE,EAAI,CAAC,EAAG,EAAG,EAAG,IAC1C,KAGgB,GAAb,EAARA,EAAG,GAAS,EAAI,GACK,GAAb,EAARA,EAAG,GAAS,EAAI,GACK,GAAb,EAARA,EAAG,GAAS,EAAI,IACR,EAARA,EAAG,GAAS,EAAI,GACjB,KACCC,SAAS,IAGZJ,IAGa,IAAVA,EACHC,GAAMC,GACIA,GAAkB,KAAVF,IAClBC,IAAO,GAAKD,GAAOI,SAAS,IAAMF,EAClCF,EAAQ,GAGE,EAARA,IACHC,IAAO,GAAKD,GAAOI,SAAS,KAG7BzF,KAAK8E,SAAWQ,IAIlBI,OAAQ,CACPC,WAAY,WACX3F,KAAK4F,yBACL5F,KAAK6F,oBAENC,WAAY,WACX9F,KAAK+F,yBACL/F,KAAKgG,6BAGNJ,uBAAwB,WACvB5F,KAAKiG,WAAW,SAASlG,EAAM4B,GAC9B,GAAW,MAAPA,EACH5B,EAAKmG,KAAO,OACN,GAAW,MAAPvE,EACV5B,EAAKoG,KAAO,OACN,GAAW,MAAPxE,EAAY,CACtB5B,EAAKsB,MAAQ,GAEb,IADA,IAAI+E,EAAQzE,EAAGsB,MAAM,KACZjC,EAAI,EAAGA,EAAIoF,EAAMnF,OAAQD,IACjCjB,EAAKsB,MAAMa,KAAkB,MAAbkE,EAAMpF,IAAcoF,EAAMpF,IAAM,OAKpD+E,uBAAwB,WACvB/F,KAAKqG,WAAW,SAAStG,GACxB,GAAwB,EAApBA,EAAKsB,MAAMJ,OAAY,CAE1B,IADA,IAAImF,EAAQ,GACHpF,EAAI,EAAGA,EAAIjB,EAAKsB,MAAMJ,OAAQD,IACtCoF,EAAMlE,KAAsB,GAAjBnC,EAAKsB,MAAML,GAAU,GAAKjB,EAAKsB,MAAML,GAAK,KAEtD,OAAOoF,EAAME,KAAK,KAAO,IACnB,OAAkB,IAAdvG,EAAKmG,KACR,KACiB,IAAdnG,EAAKoG,KACR,KAEA,SAQXI,SAAU,CACTC,UAAW,CACV,uBACA,oBACA,uBACA,sBAGDC,qBAAsB,WACrBzG,KAAK0G,aAAa,SAAS3G,GAE1B,GAA0B,IAAtBA,EAAKsB,MAAMJ,OACd,OAAO,EAER,IAAI+B,EAASjD,EAAK0C,kBAClB,GAAI1C,EAAKsB,MAAMJ,SAAW+B,EAAO/B,OAChC,OAAO,EAER,IAAK,IAAID,EAAI,EAAGA,EAAIjB,EAAKsB,MAAMJ,OAAQD,IAAK,CAC3C,IAAImE,EAAMpF,EAAKsB,MAAML,GACrB,IAAa,IAATmE,EAAJ,CAGIwB,EAAM3D,EAAO4D,QAAQzB,GACzB,GAAIwB,EAAM,EACT,OAAO,EAER3D,EAAO6D,OAAOF,EAAK,IAEpB,OAAO,GACL"}