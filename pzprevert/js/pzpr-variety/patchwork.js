/*! @license pzpr.js v7f9addbe (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(e,r){"object"==typeof module&&module.exports?module.exports=[e,r]:pzpr.classmgr.makeCustom(e,r)}(["patchwork"],{MouseEvent:{inputModes:{edit:["number","undef","clear"],play:["border","shade","unshade","subline"]},mouseinput_auto:function(){var e;this.puzzle.playmode?this.mousestart||this.mousemove?"right"===this.btn?this.inputQsubLine():this.isBorderMode()?this.inputborder():this.inputShade():this.notInputted()&&(this.puzzle.getConfig("patchwork_leftaux")?this.isBorderMode()?(e=this.getborder()).isnull||(e.setQsub(1===e.qsub?0:1),e.draw()):"right"===this.btn&&this.inputShade():this.inputShade()):this.puzzle.editmode&&this.inputqnum()}},KeyEvent:{enablemake:!0},Cell:{numberRemainsUnshaded:!0,minnum:0,maxnum:function(){return this.board.cols*this.board.rows-1}},Board:{hasborder:1},AreaRoomGraph:{enabled:!0},Graphic:{hideHatena:!0,icecolor:"rgb(204,204,204)",shadecolor:"#222222",bordercolor_func:"qans",bbcolor:"rgb(200, 200, 200)",trialcolor:"rgb(100, 95, 90)",linetrialcolor:"#777777",paint:function(){this.drawBGCells(),this.drawShadedCells(),this.drawDashedGrid(),this.drawQuesNumbers(),this.drawBorders(),this.drawBorderQsubs(),this.drawBoxBorders(!1),this.drawChassis(),this.drawTarget()},getBGCellColor:function(e){return 1===e.error||1===e.qinfo?e.isNum()?this.erricecolor:this.errbcolor1:e.isNum()?this.icecolor:1===e.qsub?this.bcolor:null}},Encode:{decodePzpr:function(e){this.decodeNumber16()},encodePzpr:function(e){this.encodeNumber16()}},FileIO:{decodeData:function(){this.decodeCellQnumAns(),this.decodeBorderAns()},encodeData:function(){this.encodeCellQnumAns(),this.encodeBorderAns()}},AnsCheck:{checklist:["checkSideAreaShadeCell","checkShadeCellCount","checkSideAreaUnshadeCell","checkRoomSquare","checkBorderDeadend+","doneShadingDecided"],checkShadeCellCount:function(){for(var e=this.board.roommgr.components,r=0;r<e.length;r++){var t=e[r].clist,i=t.getRectSize();if(i.rows===i.cols&&i.rows*i.cols===i.cnt)for(var o=t.filter(function(e){return e.isShade()}).length,s=0;s<t.length;s++){var n=t[s].qnum;if(!(n<0)&&n!==o){if(this.failcode.add("bkShadeNe"),this.checkOnly)return;t.seterr(1)}}}},checkRoomSquare:function(){this.checkAllArea(this.board.roommgr,function(e,r,t,i){return e===r&&e*r===t},"bkNotSquare")},checkSideAreaShadeCell:function(){this.checkSideAreaCell(function(e,r){return!e.isNum()&&!r.isNum()&&e.isShade()&&r.isShade()},!1,"cbShade")},checkSideAreaUnshadeCell:function(){this.checkSideAreaCell(function(e,r){return!(e.isNum()||r.isNum()||e.isShade()||r.isShade())},!1,"cbUnshade")}}});
//# sourceMappingURL=patchwork.js.map