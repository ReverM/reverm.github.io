/*! @license pzpr.js v7f9addbe (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(e,i){"object"==typeof module&&module.exports?module.exports=[e,i]:pzpr.classmgr.makeCustom(e,i)}(["firefly","mintonette"],{MouseEvent:{autoplay_func:"line"},"MouseEvent@firefly":{inputModes:{edit:["number","direc","clear"],play:["line","peke"]},mouseinputAutoEdit:function(){this.notInputted()&&(this.mousestart||this.mousemove?this.inputdirec():this.mouseend&&this.prevPos.getc()===this.getcell()&&this.inputqnum())}},"MouseEvent@mintonette":{inputModes:{edit:["number","clear"],play:["line","peke"]},autoedit_func:"qnum"},KeyEvent:{enablemake:!0},"KeyEvent@firefly":{moveTarget:function(e){return!e.match(/shift/)&&this.moveTCell(e)},keyinput:function(e){this.key_inputdirec(e)||this.key_inputqnum(e)}},Cell:{minnum:0},Board:{hasborder:1},BoardExec:{adjustBoardData:function(e,i){this.adjustNumberArrow(e,i)}},LineGraph:{enabled:!0,makeClist:!0},Graphic:{hideHatena:!0,irowake:!0,gridcolor_type:"LIGHT",numbercolor_func:"fixed",fontsizeratio:.65,paint:function(){this.drawBGCells(),"firefly"===this.pid?this.drawDashedCenterLines():this.drawGrid(),this.drawLines(),this.drawPekes(),this.drawCircledNumbers(),"firefly"===this.pid?this.drawFireflyDots():this.drawChassis(),this.drawTarget()}},"Graphic@firefly":{drawFireflyDots:function(){for(var e=this.vinc("cell_firefly","auto"),i=(e.fillStyle=this.quescolor,.4*this.cw),n=.1*this.cw,c=this.range.cells,t=0;t<c.length;t++){var r=c[t];if(e.vid="c_cirdot_"+r.id,-1!==r.qnum&&r.qdir!==r.NDIR){var s=r.bx*this.bw,o=r.by*this.bh;switch(r.qdir){case r.UP:o-=i-1;break;case r.DN:o+=i-1;break;case r.LT:s-=i-1;break;case r.RT:s+=i-1}e.fillCircle(s,o,n)}else e.vhide()}},repaintParts:function(e){this.range.cells=e.cellinside(),this.drawCircledNumbers(),this.drawFireflyDots()}},Encode:{decodePzpr:function(e){this.decodeArrowNumber16()},encodePzpr:function(e){this.encodeArrowNumber16()}},"Encode@mintonette":{decodePzpr:function(e){this.decodeNumber16()},encodePzpr:function(e){this.encodeNumber16()}},FileIO:{decodeData:function(){this.decodeCellDirecQnum(),this.decodeBorderLine()},encodeData:function(){this.encodeCellDirecQnum(),this.encodeBorderLine()}},"AnsCheck@firefly":{checklist:["checkLineExist+","checkBranchConnectLine","checkCrossConnectLine","checkConnectPoints","checkConnectCircles","checkCurveCount","checkLineShapeDeadend","checkConnectAllNumber","checkDeadendConnectLine+","checkFireflyBeam"],checkFireflyBeam:function(){for(var e=this.board,i=0;i<e.cell.length;i++){var n=e.cell[i],c=n.qdir;if(!n.noNum()&&0!==c&&!n.reldirbd(c,1).isLine()){if(this.failcode.add("nmNoLine"),this.checkOnly)break;n.seterr(1)}}},checkConnectPoints:function(){this.checkLineShape(function(e){var i=e.cells[0],n=e.cells[1];return!n.isnull&&e.dir1===i.qdir&&e.dir2===n.qdir},"lcInvDirB")},checkConnectCircles:function(){this.checkLineShape(function(e){var i=e.cells[0],n=e.cells[1];return!n.isnull&&e.dir1!==i.qdir&&e.dir2!==n.qdir},"lcInvDirW")},checkCurveCount:function(){this.checkLineShape(function(e){var i=e.cells[0],n=e.cells[1],i=(e.dir1===i.qdir?i:n).qnum;return!n.isnull&&0<=i&&i!==e.ccnt},"lcCurveNe")}},"AnsCheck@mintonette":{checklist:["checkBranchLine","checkCrossLine","checkLineOverLetter","checkCurveCount","checkDeadendConnectLine+","checkDisconnectLine","checkNoLine++"],checkCurveCount:function(){this.checkLineShape(function(e){var i=e.cells[0],n=e.cells[1];return!(!i.isValidNum()||e.ccnt===i.qnum)||!(!n.isValidNum()||e.ccnt===n.qnum)},"lcCurveNe")}}});
//# sourceMappingURL=firefly.js.map