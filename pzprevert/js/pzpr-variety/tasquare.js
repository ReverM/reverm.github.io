/*! @license pzpr.js v7f9addbe (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(e,t){"object"==typeof module&&module.exports?module.exports=[e,t]:pzpr.classmgr.makeCustom(e,t)}(["tasquare"],{MouseEvent:{use:!0,inputModes:{edit:["number","clear"],play:["shade","unshade"]},mouseinput_auto:function(){this.puzzle.playmode?(this.mousestart||this.mousemove)&&this.inputcell():this.puzzle.editmode&&this.mousestart&&this.inputqnum()}},KeyEvent:{enablemake:!0},Cell:{numberRemainsUnshaded:!0},AreaShadeGraph:{enabled:!0},AreaUnshadeGraph:{enabled:!0},Graphic:{hideHatena:!0,fontsizeratio:.65,qanscolor:"black",numbercolor_func:"qnum",paint:function(){this.drawBGCells(),this.drawShadedCells(),this.drawDotCells(),this.drawGrid(),this.drawCellSquare(),this.drawQuesNumbers(),this.drawChassis(),this.drawTarget()},drawCellSquare:function(){for(var e=this.vinc("cell_square","crispEdges",!0),t=.8*this.bw-1,s=.8*this.bh-1,i=(e.lineWidth=1,e.strokeStyle="black",this.range.cells),n=0;n<i.length;n++){var a=i[n];e.vid="c_sq_"+a.id,-1!==a.qnum?(e.fillStyle=1===a.error?this.errbcolor1:"white",e.shapeRectCenter(a.bx*this.bw,a.by*this.bh,t,s)):e.vhide()}}},Encode:{decodePzpr:function(e){this.decodeNumber16()},encodePzpr:function(e){this.encodeNumber16()}},FileIO:{decodeData:function(){this.decodeCellQnumAns()},encodeData:function(){this.encodeCellQnumAns()}},AnsCheck:{checklist:["checkShadeCellExist","checkSquareShade","checkConnectUnshade","checkSumOfSize","checkAtLeastOne","doneShadingDecided"],checkSquareShade:function(){this.checkAllArea(this.board.sblkmgr,function(e,t,s,i){return e*t===s&&e===t},"csNotSquare")},checkSumOfSize:function(){this.checkNumberSquare(!0,"nmSumSizeNe")},checkAtLeastOne:function(){this.checkNumberSquare(!1,"nmNoSideShade")},checkNumberSquare:function(e,t){for(var s=this.board,i=0;i<s.cell.length;i++){var n=s.cell[i];if(!(e?n.qnum<0:-1===n.qnum)){var a=new this.klass.CellList,h=n.adjacent;if(h.top.isShade()&&a.extend(h.top.sblk.clist),h.bottom.isShade()&&a.extend(h.bottom.sblk.clist),h.left.isShade()&&a.extend(h.left.sblk.clist),h.right.isShade()&&a.extend(h.right.sblk.clist),!(e?a.length===n.qnum:0<a.length)){if(this.failcode.add(t),this.checkOnly)break;a.seterr(1),n.seterr(1)}}}}}});
//# sourceMappingURL=tasquare.js.map