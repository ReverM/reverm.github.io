{"version":3,"file":"nurimaze.js","sources":["../../../src/variety/nurimaze.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","use","inputModes","edit","play","mouseinput","this","inputMode","inputtile_nurimaze","common","call","mouseinput_other","indexOf","inputmarks","mouseinput_auto","puzzle","playmode","mousestart","mousemove","editmode","inputEdit","mouseend","inputEdit_end","cell","getcell","isnull","mouseCell","inputData","decIC","bd","board","clist","room","i","length","ques","startpos","equals","goalpos","qsub","cell2","setShade","clrShade","setQsub","draw","inputEdit_first","input","inputborder","pos","getpos","notInputted","cursor","getc","setcursor","inputQuesMark","newques","btn","0","41","42","setQues","KeyEvent","enablemake","keyinput","ca","keydown","key_inputqnum_nurimaze","old","Board","hasborder","createExtraObject","classes","klass","StartAddress","GoalAddress","cols","rows","partner","initExtraObject","col","row","disableInfo","init","enableInfo","exchangestartgoal","old_start","old_goal","set","BoardExec","posinfo","adjustBoardData","key","d","posinfo_start","getAfterPos","posinfo_goal","adjustBoardData2","opemgr","info1","info2","isrec","REDUCE","isdel","undoExec","redoExec","forceRecord","OperationManager","addExtraOperation","operationlist","push","StartGoalOperation","AreaUnshadeGraph","enabled","AreaRoomGraph","LineGraph","BorderList","subclear","propclear","Graphic","enablebcolor","bgcellcolor_func","errbcolor2","bbcolor","irowake","paint","drawBGCells","drawShadedCells","drawGrid","drawQuesMarks","drawStartGoal","drawBorders","drawChassis","drawBoxBorders","drawTarget","drawLines","g","vinc","rsize","cw","tsize","lineWidth","range","cells","num","px","bx","bw","py","by","bh","strokeStyle","getQuesNumberColor","vid","id","strokeCircle","vhide","beginPath","setOffsetLinePath","stroke","Encode","decodePzpr","type","decodeBorder","decodeCell_nurimaze","encodePzpr","encodeBorder","encodeCell_nurimaze","c","bstr","outbstr","charAt","include","parseInt","substr","cm","count","pstr","toString","FileIO","decodeData","decodeAreaRoom","decodeCellQues_nurimaze","decodeCellAns","decodeBorderLine","encodeData","encodeAreaRoom","encodeCellQues_nurimaze","encodeCellAns","encodeBorderLineIfPresent","decodeCell","encodeCell","AnsCheck","checklist","checkShadedObject","checkAllCell","qans","check2x2UnshadeCell","check2x2Block","isUnshade","checkUnshadeLoop","ublks","ublkmgr","components","r","circuits","failcode","add","checkOnly","searchloop","seterr","checkRouteCheckPoint","minfo","getMazeRouteInfo","outroute","filter","onroute","checkRouteNoDeadEnd","_info","maze","history","steps","onroutes","maxbx","minbx","nextcell","nodes","ublknodes","cell1","obj","pop","info","CellList"],"mappings":"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"}