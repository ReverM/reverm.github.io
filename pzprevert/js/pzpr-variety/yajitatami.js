/*! @license pzpr.js v7f9addbe (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(e,r){"object"==typeof module&&module.exports?module.exports=[e,r]:pzpr.classmgr.makeCustom(e,r)}(["yajitatami"],{MouseEvent:{inputModes:{edit:["border","number","direc","clear"],play:["border","subline"]},mouseinput_auto:function(){this.puzzle.playmode?(this.mousestart||this.mousemove)&&("left"===this.btn&&this.isBorderMode()?this.inputborder():this.inputQsubLine()):this.puzzle.editmode&&(this.mousestart||this.mousemove?this.isBorderMode()?this.inputborder():this.inputdirec():this.mouseend&&this.notInputted()&&this.inputqnum())}},KeyEvent:{enablemake:!0,moveTarget:function(e){return!e.match(/shift/)&&this.moveTCell(e)},keyinput:function(e){this.key_inputdirec(e)||this.key_inputqnum(e)}},Board:{cols:8,rows:8,hasborder:1},BoardExec:{adjustBoardData:function(e,r){this.adjustNumberArrow(e,r)}},AreaRoomGraph:{enabled:!0},Graphic:{gridcolor_type:"DLIGHT",bordercolor_func:"qans",numbercolor_func:"qnum",paint:function(){this.drawBGCells(),this.drawDashedGrid(),this.drawQansBorders(),this.drawQuesBorders(),this.drawArrowNumbers(),this.drawBorderQsubs(),this.drawChassis(),this.drawTarget()}},Encode:{decodePzpr:function(e){this.decodeArrowNumber16(),this.decodeBorder()},encodePzpr:function(e){this.encodeArrowNumber16(),this.encodeBorder_if_exist()},encodeBorder_if_exist:function(){for(var e=0;e<this.board.border.length;e++)if(1===this.board.border[e].ques){this.encodeBorder();break}}},FileIO:{decodeData:function(){this.decodeCellDirecQnum(),this.decodeBorderQues(),this.decodeBorderAns()},encodeData:function(){this.encodeCellDirecQnum(),this.encodeBorderQues(),this.encodeBorderAns()}},AnsCheck:{checklist:["checkBorderCross","checkArrowNumber_border","checkTatamiLength","checkArrowNumber_tatami","checkNumberAndSize","checkTatamiBreadth"],checkTatamiLength:function(){this.checkAllArea(this.board.roommgr,function(e,r,i,t){return 1<i},"bkSize1")},checkTatamiBreadth:function(){this.checkAllArea(this.board.roommgr,function(e,r,i,t){return 1===e||1===r},"bkWidthGt1")},checkArrowNumber_tatami:function(){for(var e=this.board,r=0;r<e.cell.length;r++){var i=e.cell[r];if(i.isValidNum()){var t,o=i.bx,d=i.by,s=i.qdir;if(s===i.UP)t=e.borderinside(o,e.minby,o,d);else if(s===i.DN)t=e.borderinside(o,d,o,e.maxby);else if(s===i.LT)t=e.borderinside(e.minbx,d,o,d);else{if(s!==i.RT)continue;t=e.borderinside(o,d,e.maxbx,d)}if(i.qnum!==t.filter(function(e){return e.isBorder()}).length){if(this.failcode.add("anTatamiNe"),this.checkOnly)break;i.seterr(1)}}}},checkArrowNumber_border:function(){for(var e=this.board,r=0;r<e.cell.length;r++){var i=e.cell[r],t=i.qdir;if(i.isValidNum()&&t&&!i.reldirbd(t,1).isBorder()){if(this.failcode.add("anNoAdjBd"),this.checkOnly)break;i.seterr(1)}}}}});
//# sourceMappingURL=yajitatami.js.map