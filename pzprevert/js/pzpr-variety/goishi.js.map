{"version":3,"file":"goishi.js","sources":["../../../src/variety/goishi.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","mouseinput","this","puzzle","playmode","mousestart","btn","inputqans","editmode","inputstone","cell","getcell","isnull","cursor","getc","setcursor","setStone","draw","isStone","anum","max","bd","board","bcell","emptycell","c","length","cell2","tmp","d","x1","bx","y1","by","x2","y2","setAnum","KeyEvent","enablemake","keyinput","ca","key_inputstone","Cell","ques","setQues","Board","disable_subclear","Graphic","errcolor1","errbcolor1","paint","drawCenterLines","drawCircles","drawCellSquare","drawAnsNumbers","drawTarget","g","vinc","range","minbx","maxbx","minby","maxby","lineWidth","strokeStyle","gridcolor","i","px","bw","py1","bh","py2","vid","strokeLine","py","px1","px2","getCircleStrokeColor","error","quescolor","getCircleFillColor","rw","rh","clist","cells","id","fillStyle","fillRectCenter","vhide","Encode","decodePzpr","type","decodeGoishi","encodePzpr","encodeGoishi","decodeKanpen","fio","decodeGoishi_kanpen","encodeKanpen","encodeGoishi_kanpen","bstr","outbstr","twi","disableInfo","num","parseInt","charAt","w","enableInfo","substr","cm","count","pass","toString","FileIO","decodeData","decodeGoishiFile","encodeData","encodeGoishiFile","kanpenOpen","decodeQansPos_kanpen","kanpenSave","encodeQansPos_kanpen","decodeCell","encodeCell","data","writeLine","readLine","item","split","stones","len","join","kanpenOpenXML","decodeCellQnum_goishi_XMLBoard","decodeQansPos_XMLAnswer","kanpenSaveXML","encodeCellQnum_goishi_XMLBoard","encodeQansPos_XMLAnswer","decodeCellXMLBoard","val","encodeCellXMLBoard","nodes","xmldoc","querySelectorAll","node","getAttribute","boardnode","querySelector","ans","appendChild","createXMLNode","n","r","AnsCheck","checklist","checkStoneExist","some","failcode","add","checkPickedStone","checkAllCell"],"mappings":"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"}