/*! @license pzpr.js v7f9addbe (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(e,t){"object"==typeof module&&module.exports?module.exports=[e,t]:pzpr.classmgr.makeCustom(e,t)}(["usoone"],{MouseEvent:{RBShadeCell:!0,use:!0,inputModes:{edit:["border","number","clear","info-blk"],play:["shade","unshade","submark","subcircle","subcross","peke","info-blk"]},mouseinput:function(){"subcircle"===this.inputMode?this.inputqcmp(1):"subcross"===this.inputMode?this.inputqcmp(2):this.common.mouseinput.call(this)},mouseinput_other:function(){"submark"===this.inputMode&&this.inputqcmp()},mouseinput_auto:function(){this.puzzle.playmode?this.mousestart?this.inputcell_usoone():this.mousemove?this.inputcell():this.mouseend&&this.notInputted()&&this.inputqcmp():this.puzzle.editmode&&(this.mousestart||this.mousemove?this.inputborder():this.mouseend&&this.notInputted()&&this.inputqnum())},inputcell_usoone:function(){var e=this.getcell();e.isnull||(e.isNum()&&"left"===this.btn?this.inputqcmp():this.inputcell())},inputqcmp:function(e){var t=this.getcell();!t.isnull&&t.isNum()&&(void 0===e?t.setQcmp(("left"===this.btn?[2,0,1]:[1,2,0])[t.qcmp]):t.setQcmp(t.qcmp!==e?e:0),"submark"!==this.inputMode&&2===this.puzzle.getConfig("use")&&0===t.qcmp?this.inputcell():(this.mousereset(),t.draw()))}},KeyEvent:{enablemake:!0},Cell:{numberRemainsUnshaded:!0,maxnum:4,minnum:0,isLiar:function(){return!(this.qnum<0)&&this.qnum!==this.countDir4Cell(function(e){return e.isShade()})}},CellList:{subclear:function(){var e=[],t={};0<this.length&&(e=this[0].getproplist(["sub","info"]),t=this[0].propnorec);for(var s=0;s<this.length;s++)for(var i=this[s],o=0;o<e.length;o++){var n=e[o],c=i.constructor.prototype[n];i[n]===c||"qcmp"===n&&2===i.qcmp||(t[n]||i.addOpe(n,i[n],c),i[n]=c)}}},Board:{hasborder:1},AreaUnshadeGraph:{enabled:!0},AreaRoomGraph:{enabled:!0},Graphic:{gridcolor_type:"LIGHT",enablebcolor:!0,bgcellcolor_func:"qsub1",mbcolor:"rgb(0, 224, 0)",paint:function(){this.drawBGCells(),this.drawGrid(),this.drawShadedCells(),this.drawMBs_usoone(),this.drawQuesNumbers(),this.drawBorders(),this.drawChassis(),this.drawBoxBorders(!1),this.drawPekes(),this.drawTarget()},drawMBs_usoone:function(){for(var e=this.vinc("cell_mb","auto",!0),t=(e.lineWidth=Math.max(this.cw/18,2),.35*this.cw),s=this.range.cells,i=0;i<s.length;i++){var o,n,c=s[i];0<c.qcmp&&(o=c.bx*this.bw,n=c.by*this.bh),e.vid="c_MB1_"+c.id,1===c.qcmp?(e.strokeStyle=c.trial?this.trialcolor:this.mbcolor,e.strokeCircle(o,n,t)):e.vhide(),e.vid="c_MB2_"+c.id,2===c.qcmp?(e.strokeStyle=c.trial?this.trialcolor:this.shadecolor,e.strokeCross(o,n,t)):e.vhide()}}},Encode:{decodePzpr:function(e){this.decodeBorder(),this.decode4Cell()},encodePzpr:function(e){this.encodeBorder(),this.encode4Cell()}},FileIO:{decodeData:function(){this.decodeAreaRoom(),this.decodeCellQnum(),this.decodeCellQanssubcmp2(),this.decodeBorderLine()},encodeData:function(){this.encodeAreaRoom(),this.encodeCellQnum(),this.encodeCellQanssubcmp2(),this.encodeBorderLineIfPresent()},decodeCellQanssubcmp2:function(){this.decodeCell(function(e,t){"1"===t?e.qans=1:"."!==t&&("+"===t.substr(0,1)&&(e.qsub=1),"o"===t.substr(-1,1)&&(e.qcmp=1),"x"===t.substr(-1,1)&&(e.qcmp=2))})},encodeCellQanssubcmp2:function(){this.encodeCell(function(e){if(1===e.qans)return"1 ";var t=1===e.qsub?"+":"";return 1===e.qcmp?t+="o":2===e.qcmp&&(t+="x"),(t||".")+" "})}},AnsCheck:{checklist:["checkAdjacentShadeCell","checkConnectUnshadeRB","checkLiarCell","doneShadingDecided"],checkLiarCell:function(e){this.checkAllBlock(this.board.roommgr,function(e){return e.isLiar()},function(e,t,s,i){return 1===s},"bkLiarNe1")}}});
//# sourceMappingURL=usoone.js.map