/*! @license pzpr.js v7f9addbe (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(e){var t=["fillomino","symmarea","pentominous","snakepit","wafusuma","tetrominous"];"object"==typeof module&&module.exports?module.exports=[t,e]:pzpr.classmgr.makeCustom(t,e)}({MouseEvent:{inputModes:{edit:["number","border","clear"],play:["copynum","number","clear","border","subline"]},mouseinput_other:function(){"copynum"===this.inputMode&&this.dragnumber_fillomino()},mouseinput_clear:function(){this.inputFixedNumber(-1)},mouseinput_auto:function(){this.puzzle.playmode&&(this.mousestart||this.mousemove)&&("left"===this.btn?this.isBorderMode()?this.inputborder():this.dragnumber_fillomino():"right"===this.btn&&this.inputQsubLine()),this.puzzle.editmode&&this.mousemove&&"wafusuma"!==this.pid&&this.inputborder(),this.mouseend&&this.notInputted()&&(this.mouseCell=this.board.emptycell,this.inputqnum())},dragnumber_fillomino:function(){var e,t=this.getcell();if(!t.isnull&&t!==this.mouseCell){if(null===this.inputData)return this.inputData=t.getNum(),-1===this.inputData&&(this.inputData=-2),void(this.mouseCell=t);-2===this.inputData&&(this.inputData=-1===t.getNum()?-3:-1),-1<=this.inputData&&-1===t.qnum?(t.clrSnum(),t.setAnum(this.inputData),t.draw()):this.inputData<=-3&&(e=this.mouseCell,e=this.board.getb(t.bx+e.bx>>1,t.by+e.by>>1),-3===this.inputData&&(this.inputData=1===e.qsub?-5:-4),e.isnull||(e.setQsub(-4===this.inputData?1:0),e.draw())),this.mouseCell=t}}},"MouseEvent@pentominous,tetrominous":{inputModes:{edit:["empty","letter","letter-","border","clear"],play:["copyletter","letter","letter-","clear","border","subline"]},mouseinput_other:function(){0===this.inputMode.indexOf("letter")?this.inputqnum():"copyletter"===this.inputMode&&this.dragnumber_fillomino()}},"MouseEvent@snakepit":{inputModes:{edit:["number","circle-unshade","shade","empty","border","clear"],play:["copynum","number","clear","border","subline"]},mouseinput:function(){"circle-unshade"===this.inputMode?this.inputCircle():this.common.mouseinput.call(this)},inputCircle:function(){var e=this.getcell();e.isnull||null!==this.inputData||(this.inputData=1===e.ques?0:1),this.inputIcebarn()},inputShade:function(){this.inputIcebarn()}},"MouseEvent@wafusuma":{inputModes:{edit:["number","clear"],play:["copynum","number","clear","border","subline"]},inputqnum:function(){this.puzzle.editmode?this.inputmark_mouseup():this.common.inputqnum.call(this)},inputmark_mouseup:function(){var e,t,i,n,r=this.getpos(.33);r.isinside()&&(this.cursor.equals(r)?(e=r.getb()).isnull||(t=e.qnum,i=e.getminnum(),n=e.maxnum(),"left"===this.btn?-1===t?e.setQnum(-2):-2===t?e.setQnum(i):n<=t?e.setQnum(-1):e.setQnum(t+1):"right"===this.btn&&(-1===t?e.setQnum(n):t===i?e.setQnum(-2):-2===t?e.setQnum(-1):e.setQnum(t-1)),e.draw()):(this.setcursor(r),r.draw()))},inputFixedNumber:function(e){if(this.puzzle.playmode)return this.common.inputFixedNumber.call(this,e);var t,i=this.getpos(.33).getb();i.isnull||i===this.mouseCell||(t=i.qnum,null===this.inputData&&(this.inputData=t===e?-1:e),t===e&&-1!==this.inputData||(i.setQnum(this.inputData),i.draw()),this.mouseCell=i)}},KeyEvent:{enablemake:!0,enableplay:!0,moveTarget:function(e){return"wafusuma"===this.pid&&this.puzzle.editmode?this.moveTBorder(e):this.puzzle.playmode&&(this.isCTRL||this.isX||this.isZ)?this.move_fillomino(e):this.moveTCell(e)},move_fillomino:function(e){var t=this.cursor.getc();if(t.isnull)return!1;var i,n,r=t.adjacent,s=t.adjborder;switch(e){case"up":i=r.top,n=s.top;break;case"down":i=r.bottom,n=s.bottom;break;case"left":i=r.left,n=s.left;break;case"right":i=r.right,n=s.right;break;default:return!1}return!i.isnull&&(!!(this.isCTRL||this.isX||this.isZ)&&(this.isCTRL?n.isnull||(n.setQsub(0===n.qsub?1:0),this.cursor.setaddr(i)):this.isZ?n.isnull||n.setQans(n.isBorder()?0:1):this.isX&&!i.isnull&&(i.setAnum(t.getNum()),this.cursor.setaddr(i)),t.draw(),!0))}},"KeyEvent@snakepit":{keyinput:function(e){if(this.puzzle.editmode){var t=this.cursor.getc();if(t.isnull)return;if("q"===e||"a"===e||"z"===e)return t.setQues(1===t.ques?0:1),void t.draw();if("w"===e||"s"===e||"x"===e)return t.setQues(6===t.ques?0:6),void t.draw();if("e"===e||"d"===e||"c"===e)return t.setQues(7===t.ques?0:7),void t.draw();if("r"===e||"f"===e||"v"===e)return t.setQues(0),void t.draw()}this.key_inputqnum(e)}},"KeyEvent@pentominous,tetrominous":{keyinput:function(e){this.puzzle.editmode&&"q"===e?this.key_inputvalid():this.key_inputqnum(e)},key_inputvalid:function(){var e=this.cursor.getc();e.isnull||e.setValid(7!==e.ques?7:0)},getNewNumber:function(e,t,i){var n=this.klass.Cell.prototype.letters.toLowerCase().indexOf(t);return-1!==n?n:"-"===t?-2:"BS"===t||" "===t?-1:null}},"KeyEvent@wafusuma":{keyinput:function(e){this.puzzle.editmode?this.key_inputmark(e):this.puzzle.playmode&&this.key_inputqnum(e)},key_inputmark:function(e){var t=this.cursor.getb();t.isnull||null!==(e=this.getNewNumber(t,e,t.qnum))&&(t.setQnum(e),(this.prev=t).draw())}},"TargetCursor@wafusuma":{adjust_modechange:function(){this.bx-=(this.bx+1)%2,this.by-=(this.by+1)%2}},Cell:{enableSubNumberArray:!0,maxnum:function(){return this.puzzle.getConfig("fillomino_tri")?3:this.board.cols*this.board.rows},posthook:{qnum:function(){this.rebuildAroundCell()},anum:function(){this.rebuildAroundCell()}},isSameBlock:function(e){return-1!==this.getNum()&&this.eqblk===e.eqblk||this.nblk===e.nblk&&this.nblk.complete},rebuildAroundCell:function(){var t=new Set,i=(t.add(this.eqblk),this.getdir4clist().forEach(function(e){t.add(e[0].eqblk)}),new Set);this.getdir4cblist().forEach(function(e){i.add(e[1])}),t.forEach(function(e){e&&e.clist.each(function(e){e.getdir4cblist().forEach(function(e){i.add(e[1])})})}),i.forEach(function(e){e&&e.updateGhostBorder()})}},"Cell@pentominous,tetrominous#1":{enableSubNumberArray:!0,prehook:{anum:function(e){return!this.isValid()}},minnum:0},"Cell@pentominous":{letters:"FILNPTUVWXYZ",lettershapes:["3:001111010","1:11111","2:01010111","2:01011110","2:011111","3:001111001","2:110111","3:001001111","3:001011110","3:010111010","2:01011101","3:001111100"],maxnum:11},"Cell@tetrominous":{letters:"ILOST",lettershapes:["1:1111","2:010111","2:1111","2:011110","2:011101"],maxnum:4},"Cell@snakepit":{minnum:2,equalcount:function(){var t=this;return this.countDir4Cell(function(e){return t.isSameBlock(e)})}},Border:{posthook:{ques:function(){this.sidecell[0].rebuildAroundCell(),this.sidecell[1].rebuildAroundCell()},qans:function(e){this.sidecell[0].rebuildAroundCell(),this.sidecell[1].rebuildAroundCell()}},updateGhostBorder:function(){var e=this.sidecell[0],t=this.sidecell[1],e=0<=e.getNum()?e.eqblk:null;e?0<=t.getNum()&&null!==t.eqblk&&(e=null):e=0<=t.getNum()?t.eqblk:null,e&&0!==e.clist.length?(e=(t="pentominous"===this.pid?5:"tetrominous"===this.pid?4:e.clist[0].getNum())===e.clist.length?1:0,(e="snakepit"===this.puzzle.pid&&1===t?0:e)!==this.qcmp&&(this.setQcmp(e),this.draw())):this.qcmp&&(this.setQcmp(0),this.draw())},isCmp:function(){if(!this.puzzle.execConfig("autocmp"))return!1;if(this.qcmp)return!0;var e=this.sidecell[0],t=this.sidecell[1],e=e.getNum(),t=t.getNum();return 0<=e&&0<=t&&e!==t},isQuesBorder:function(){return this.ques||this.sidecell[0].isEmpty()||this.sidecell[1].isEmpty()}},"Border@wafusuma":{minnum:3,maxnum:function(){return this.board.cols*this.board.rows},isBorder:function(){return 0<this.qans},isQuesBorder:function(){return!1}},"CellList@wafusuma":{hasLooseBorder:function(){for(var e=0;e<this.length;e++){var t=this[e];if(-1!==t.adjborder.right.qnum&&t.isSameBlock(t.adjacent.right))return!0;if(-1!==t.adjborder.bottom.qnum&&t.isSameBlock(t.adjacent.bottom))return!0}return!1}},Board:{hasborder:1,addExtraInfo:function(){this.numblkgraph=this.addInfoList(this.klass.AreaNumBlockGraph),this.eqblkgraph=this.addInfoList(this.klass.AreaEqualNumberGraph)},rebuildInfo:function(){this.common.rebuildInfo.call(this),this.border.each(function(e){e.updateGhostBorder()})}},"AreaEqualNumberGraph:AreaNumberGraph":{relation:{"cell.qnum":"node","cell.anum":"node","border.ques":"separator","border.qans":"separator"},enabled:!0,setComponentRefs:function(e,t){e.eqblk=t},getObjNodeList:function(e){return e.eqblknodes},resetObjNodeList:function(e){e.eqblknodes=[]},isnodevalid:function(e){return 0<=e.getNum()},isedgevalidbylinkobj:function(e){return!e.isBorder()&&e.sidecell[0].getNum()===e.sidecell[1].getNum()}},"Board@pentominous,tetrominous":{initBoardSize:function(e,t){this.common.initBoardSize.call(this,e,t);e=e*t%("pentominous"===this.pid?5:4);1<=e&&(this.getc(this.minbx+1,this.minby+1).ques=7),2<=e&&(this.getc(this.maxbx-1,this.minby+1).ques=7),3<=e&&(this.getc(this.minbx+1,this.maxby-1).ques=7),4<=e&&(this.getc(this.maxbx-1,this.maxby-1).ques=7)}},"AreaNumBlockGraph:AreaNumberGraph":{enabled:!0,relation:{"cell.ques":"node","cell.qnum":"node","cell.anum":"node","border.ques":"separator","border.qans":"separator","border.qcmp":"separator"},isnodevalid:function(e){return!e.isEmpty()},isedgevalidbylinkobj:function(e){if(e.isBorder()||e.qcmp)return!1;var t=e.sidecell[0].getNum(),e=e.sidecell[1].getNum();return t===e||t<0||e<0},setExtraData:function(e){for(var t=e.clist=new this.klass.CellList(e.getnodeobjs()),i=[],n=0,r=-1,s=0;s<t.length;s++){var o=t[s].getNum();-1!==o&&(isNaN(i[o])?(n++,-(i[o]=1)!==r&&-2===o||(r=o)):i[o]++)}1<n&&i[-2]&&--n,e.numkind=n,e.number=1===n?r:0===n?t.length:-1,e.complete=t.length===e.number,e.looseborders=null},getComponentRefs:function(e){return e.nblk},getSideAreaInfo:function(){return this.klass.AreaRoomGraph.prototype.getSideAreaInfo.call(this)}},"AreaNumBlockGraph@pentominous":{setExtraData:function(e){e.clist=new this.klass.CellList(e.getnodeobjs()),e.numkind=1,e.number=5}},"AreaNumBlockGraph@tetrominous":{setExtraData:function(e){e.clist=new this.klass.CellList(e.getnodeobjs()),e.numkind=1,e.number=4}},Graphic:{gridcolor_type:"DLIGHT",bordercolor_func:"qans",icecolor:"rgb(204,204,204)",getCircleStrokeColor:function(e){return 1===e.ques?this.quescolor:null},circlefillcolor_func:"null",numbercolor_func:"qnum",autocmp:"border",getBGCellColor:function(e){return e.isValid()?this.getBGCellColor_icebarn(e):"black"},paint:function(){this.drawBGCells(),this.drawTargetSubNumber(),this.drawDashedGrid(),this.drawCircles(),this.drawSubNumbers(),this.drawAnsNumbers(),this.drawQuesNumbers(),this.drawBorders(),this.drawBorderQsubs(),this.drawChassis(),this.drawCursor()},getBorderColor:function(e){return e.isQuesBorder()?1===e.error?this.errcolor1:"black":this.getBorderColor_qans(e)}},"Graphic@pentominous,tetrominous":{getNumberTextCore:function(e){return-2===e?"?":this.klass.Cell.prototype.letters[e]||""}},"Graphic@snakepit":{fontsizeratio:.65},"Graphic@wafusuma":{paint:function(){this.drawBGCells(),this.drawTargetSubNumber(),this.drawDashedGrid(),this.drawBorders(),this.drawCursor(this.puzzle.playmode),this.drawQuesNumbersBD(),this.drawSubNumbers(),this.drawAnsNumbers(),this.drawBorderQsubs(),this.drawChassis()},drawQuesNumbersBD:function(){for(var e=this.vinc("border_nums","auto",!0),t=.27*this.cw,i=(e.lineWidth=1,e.strokeStyle=this.quescolor,{ratio:.45}),n=this.range.borders,r=0;r<n.length;r++){var s=n[r],o=s.bx*this.bw,u=s.by*this.bh;e.vid="b_cp_"+s.id,-1!==s.qnum?(e.fillStyle=1===s.error?this.errbcolor1:"white",e.shapeCircle(o,u,t)):e.vhide(),e.vid="border_text_"+s.id,0<s.qnum?(e.fillStyle=this.quescolor,this.disptext(""+s.qnum,o,u,i)):e.vhide()}}},Encode:{decodePzpr:function(e){this.decodeNumber16(),this.decodeBorder(),this.puzzle.setConfig("fillomino_tri",this.checkpflag("t"))},encodePzpr:function(e){this.outpflag=this.puzzle.getConfig("fillomino_tri")?"t":null,this.encodeNumber16(),this.encodeBorderIfPresent()},encodeBorderIfPresent:function(){this.board.border.some(function(e){return 1===e.ques})&&this.encodeBorder()},decodeKanpen:function(){this.fio.decodeCellQnum_kanpen()},encodeKanpen:function(){this.fio.encodeCellQnum_kanpen()}},"Encode@pentominous,tetrominous":{decodePzpr:function(e){for(var i=this.board,t=0;t<i.cell.length;t++)i.cell[t].setQues(0);this.genericDecodeNumber16(i.cell.length,function(e,t){12===t?i.cell[e].ques=7:i.cell[e].qnum=t}),this.decodeBorder()},encodePzpr:function(e){var t=this.board;this.genericEncodeNumber16(t.cell.length,function(e){return t.cell[e].isEmpty()?12:t.cell[e].qnum}),this.encodeBorderIfPresent()}},"Encode@snakepit":{decodePzpr:function(e){this.decodeNumber16(),this.decodeQues(),this.decodeBorder()},encodePzpr:function(e){this.encodeNumber16(),this.encodeQues(),this.encodeBorderIfPresent()},decodeNumber16:function(){var i=this.board;this.genericDecodeNumber16(i.cell.length,function(e,t){0===t?i.cell[e].ques=7:i.cell[e].qnum=t})},encodeNumber16:function(e){var t=this.board;this.genericEncodeNumber16(t.cell.length,function(e){return t.cell[e].isEmpty()?0:t.cell[e].qnum})},decodeQues:function(){this.genericDecodeThree(function(e,t){1===t?e.ques=1:2===t&&(e.ques=6)})},encodeQues:function(){this.genericEncodeThree(function(e){return 6===e.ques?2:1===e.ques?1:0})}},"Encode@wafusuma":{decodePzpr:function(e){var i=this.board.border;this.genericDecodeNumber16(i.length,function(e,t){i[e].qnum=t})},encodePzpr:function(e){var t=this.board.border;this.genericEncodeNumber16(t.length,function(e){return t[e].qnum})}},FileIO:{decodeData:function(){this.decodeConfigFlag("t","fillomino_tri"),"wafusuma"===this.puzzle.pid?this.decodeBorder(function(e,t){"."!==t&&(e.qnum=+t)}):this.decodeCellQnum(),"snakepit"===this.puzzle.pid&&this.decodeCell(function(e,t){e.ques="."!==t?+t:0}),this.decodeCellAnumsub(),this.decodeBorderAns()},encodeData:function(){this.encodeConfigFlag("t","fillomino_tri"),"wafusuma"===this.puzzle.pid?this.encodeBorder(function(e){return-1===e.qnum?". ":e.qnum+" "}):this.encodeCellQnum(),"snakepit"===this.puzzle.pid&&this.encodeCell(function(e){return 0<=e.ques?e.ques+" ":". "}),this.encodeCellAnumsub(),this.encodeBorderAns()},decodeBorderAns:function(){this.decodeBorder(function(e,t){"-X"===t?(e.qsub=1,e.ques=1):"X"===t?e.ques=1:"2"===t?(e.qans=1,e.qsub=1):"1"===t?e.qans=1:"-1"===t&&(e.qsub=1)})},encodeBorderAns:function(){this.encodeBorder(function(e){return 1===e.ques&&1===e.qsub?"-X ":1===e.ques?"X ":1===e.qans&&1===e.qsub?"2 ":1===e.qans?"1 ":1===e.qsub?"-1 ":"0 "})},kanpenOpen:function(){this.decodeCellQnum_kanpen(),this.decodeCellAnum_kanpen(),this.inputBorderFromNumber()},kanpenSave:function(){this.encodeCellQnum_kanpen(),this.encodeCellAnum_kanpen()},inputBorderFromNumber:function(){for(var e=this.board,t=0;t<e.border.length;t++){var i=e.border[t],n=i.sidecell[0],r=i.sidecell[1];i.qans=0,n.isnull||r.isnull||(n=n.getNum(),r=r.getNum(),-1!==n&&-1!==r&&n!==r&&(i.qans=1))}},kanpenOpenXML:function(){this.decodeCellQnum_XMLBoard(),this.decodeCellAnum_XMLAnswer(),this.inputBorderFromNumber()},kanpenSaveXML:function(){this.encodeCellQnum_XMLBoard(),this.encodeCellAnum_XMLAnswer()},UNDECIDED_NUM_XML:0},"FileIO@pentominous,tetrominous":{decodeCellQnum:function(){this.decodeCell(function(e,t){e.ques=0,"*"===t?e.ques=7:"-"===t?e.qnum=-2:"."!==t&&(e.qnum=+t)})},encodeCellQnum:function(){this.encodeCell(function(e){return 7===e.ques?"* ":-2===e.qnum?"- ":0<=e.qnum?e.qnum+" ":". "})}},AnsCheck:{checklist:["checkMinNum@snakepit","check2x2SameNumber@snakepit","checkNumberBranch@snakepit","checkNumberLoop@snakepit","checkSnakeDiagonal@snakepit","checkEndpoints@snakepit","checkMidpoints@snakepit","checkSmallArea","checkMaxNum","checkSideAreaNumberSize","checkLargeArea","checkNumKinds","checkCircleSum@wafusuma","checkRoomSymm@symmarea","checkLineOnCircle@wafusuma","checkGivenLines","checkNoNumCell_fillomino+"],checkMaxNum:function(){this.puzzle.getConfig("fillomino_tri")&&this.checkAllErrorRoom(function(e){return e.clist.length<=3},"bkSizeGt3")},checkSideAreaNumberSize:function(){this.checkSideAreaSize(this.board.numblkgraph,function(e){return e.number},"bsSameNum")},checkSmallArea:function(){this.checkAllErrorRoom(function(e){return!(e.number>e.clist.length&&0<e.number)},"bkSizeLt")},checkLargeArea:function(){this.checkAllErrorRoom(function(e){return!(e.number<e.clist.length&&0<e.number)},"bkSizeGt")},checkNumKinds:function(){this.checkAllErrorRoom(function(e){return e.numkind<=1},"bkMixedNum")},checkRoomSymm:function(){var u=this.board;this.checkAllErrorRoom(function(e){for(var t=e.clist,i=t.getRectSize(),n=i.x1+i.x2,r=i.y1+i.y2,s=0;s<t.length;s++){var o=t[s];if(u.getc(n-o.bx,r-o.by).nblk!==e)return!1}return!0},"bkNotSymmRoom")},checkAllErrorRoom:function(e,t){for(var i=this.board.numblkgraph.components,n=0;n<i.length;n++){var r=i[n];if(r&&!e(r)){if(this.failcode.add(t),this.checkOnly)break;r.clist.seterr(1)}}},checkNoNumCell_fillomino:function(){this.puzzle.getConfig("forceallcell")&&this.checkAllCell(function(e){return e.noNum()},"ceNoNum")},checkGivenLines:function(){for(var e=this.board.border,t=0;t<e.length;t++){var i=e[t];if(!i.isnull&&i.isBorder()){var n=i.sidecell[0].nblk,r=i.sidecell[1].nblk;if(!(n!==r||1<n.numkind||1<r.numkind||n.number!==r.number)){if(this.failcode.add("bdUnused"),this.checkOnly)break;e.setnoerr(),i.seterr(1),n.clist.seterr(1)}}}}},"AnsCheck@pentominous,tetrominous#1":{checklist:["checkSmallArea","checkLetterBlock","checkDifferentShapeBlock","checkGivenLines","checkLargeArea"],checkLetterBlock:function(){var t="pentominous"===this.pid?5:4;this.checkAllCell(function(e){return e.isNum()&&e.nblk.clist.length===t&&e.lettershapes[e.getNum()]!==e.nblk.clist.getBlockShapes().canon},"nmShapeNe")},checkDifferentShapeBlock:function(){for(var e=this.board.numblkgraph.getSideAreaInfo(),t="pentominous"===this.pid?5:4,i=0;i<e.length;i++){var n=e[i][0],r=e[i][1];if(n.clist.length===t&&r.clist.length===t&&!this.isDifferentShapeBlock(n,r)){if(this.failcode.add("bsSameShape"),this.checkOnly)break;n.clist.seterr(1),r.clist.seterr(1)}}}},"FailCode@pentominous":{bkSizeLt:"bkSizeLt5",bkSizeGt:"bkSizeGt5"},"FailCode@tetrominous":{bkSizeLt:"bkSizeLt4",bkSizeGt:"bkSizeGt4"},"AnsCheck@snakepit":{checkMinNum:function(){this.checkAllCell(function(e){return 1===e.getNum()||e.nblk&&1===e.nblk.clist.length},"nmEqOne")},check2x2SameNumber:function(){var e=this.board;e:for(var t=0;t<e.cell.length;t++){var i=e.cell[t],n=i.bx,i=i.by;if(!(n>=e.maxbx-1||i>=e.maxby-1)){for(var r=e.cellinside(n,i,n+2,i+2),s=1;s<4;s++)if(!r[0].isSameBlock(r[s]))continue e;if(this.failcode.add("nmSame2x2"),this.checkOnly)break;r.seterr(1)}}},checkSnakeDiagonal:function(){for(var e=this.board,t=0;t<e.cell.length;t++){var i=e.cell[t],n=i.bx,i=i.by;if(!(n>=e.maxbx-1||i>=e.maxby-1)){n=e.cellinside(n,i,n+2,i+2);if(!n[0].isSameBlock(n[3])||n[0].isSameBlock(n[1])||n[0].isSameBlock(n[2])){if(!n[1].isSameBlock(n[2])||n[0].isSameBlock(n[1])||n[3].isSameBlock(n[1]))continue;n[1].seterr(1),n[2].seterr(1)}else n[0].seterr(1),n[3].seterr(1);if(this.failcode.add("nmDiag"),this.checkOnly)break}}},checkEndpoints:function(){this.checkAllCell(function(e){return 1===e.ques&&1<e.equalcount()},"nmEndpoint")},checkMidpoints:function(){this.checkAllCell(function(e){return 6===e.ques&&1===e.equalcount()},"nmMidpoint")},checkNumberBranch:function(){this.checkAllCell(function(e){return 2<e.equalcount()},"nmBranch")},checkNumberLoop:function(){for(var e=this.board.numblkgraph.components,t=0;t<e.length;t++){var i=e[t],n=i.clist;if(i.complete){for(var r=!0,s=0;s<n.length;s++)if(2!==n[s].equalcount()){r=!1;break}if(r&&(this.failcode.add("nmLoop"),n.seterr(1),this.checkOnly))break}}}},"AnsCheck@wafusuma":{checkCircleSum:function(){for(var e=this.board.border,t=0;t<e.length;t++){var i=e[t];if(!(i.isnull||i.qnum<=0||i.sidecell[0].isSameBlock(i.sidecell[1]))){for(var n=0,r=0;r<=1&&-1!==n;r++){var s=i.sidecell[r];null===s.nblk.looseborders&&(s.nblk.looseborders=s.nblk.clist.hasLooseBorder()),-1!==s.getNum()?n+=s.getNum():!s.nblk.looseborders&&s.nblk.numkind<=1?n+=s.nblk.number:n=-1}if(-1!==n&&n!==i.qnum){if(this.failcode.add("nmSumNe"),this.checkOnly)break;e.setnoerr(),i.seterr(1);for(r=0;r<=1;r++)i.sidecell[r].nblk.clist.seterr(1)}}}},checkLineOnCircle:function(){for(var e=this.board.border,t=0;t<e.length;t++){var i=e[t];if(!i.isnull&&-1!==i.qnum&&i.sidecell[0].isSameBlock(i.sidecell[1])){if(this.failcode.add("bdUnusedCircle"),this.checkOnly)break;i.seterr(1)}}}}});
//# sourceMappingURL=fillomino.js.map