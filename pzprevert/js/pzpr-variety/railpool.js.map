{"version":3,"file":"railpool.js","sources":["../../../src/variety/railpool.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","inputModes","edit","play","mouseinput_auto","this","puzzle","playmode","btn","mousestart","mousemove","inputLine","mouseend","notInputted","inputpeke","editmode","inputborder","setcursor","getcell","inputempty","KeyEvent","enablemake","keyinput","ca","key_inputqnums","Cell","distinctQnums","noLP","dir","isEmpty","getSegment","horiz","cell","llist","klass","PieceList","adjborder","right","isLine","adjacent","add","left","top","bottom","seterr","num","board","isenableSetError","error","CellList","getClueSet","result","i","length","k","qnums","includes","push","getSegmentLengthsSet","vert","Border","enableLineNG","Board","hasborder","AreaRoomGraph","enabled","LineGraph","Graphic","irowake","getQuesNumberColor","errcolor1","quescolor","paint","drawBGCells","drawGrid","drawBorders","drawTapaNumbers","drawPekes","drawLines","drawChassis","drawTarget","getBGCellColor","ques","getBGCellColor_error1","getBorderColor","border","cell1","sidecell","cell2","inside","isnull","getBorderColor_ques","Encode","decodePzpr","type","decodeNumber_railpool","decodeBorder","decodeEmpty","encodePzpr","encodeNumber_railpool","encodeBorder","encodeEmpty","c","off","bstr","outbstr","bd","charAt","include","curNum","parseInt","substr","count","cm","pstr","qn","n","chars","curDigit","Math","floor","toString","reverse","join","FileIO","decodeData","decodeQnums","decodeAreaRoom","decodeBorderLine","encodeData","encodeQnums","encodeAreaRoom","encodeBorderLine","decodeCell","encodeCell","AnsCheck","checklist","checkUncluedLength","rooms","roommgr","components","r","clist","clueSet","checkOnly","failcode","setnoerr","checkMissingLength","actualSet","clueNum","j","checkTooManyUnspecified","checkTooFewUnspecified"],"mappings":"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"}