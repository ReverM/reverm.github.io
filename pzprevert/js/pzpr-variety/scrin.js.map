{"version":3,"file":"scrin.js","sources":["../../../src/variety/scrin.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","use","inputModes","edit","play","autoedit_func","autoplay_func","MouseEvent@antmill","shadeCount","mousereset","this","common","call","mouseinput_other","inputMode","inputFixedNumber","mouseinput_clear","num","pos","getpos","border","getb","isinside","isnull","val","ques","inputData","setQues","draw","inputcell","cell","getcell","mouseCell","mouseinput_auto","puzzle","playmode","mousestart","mousemove","editmode","inputmark_antmill","qn","btn","KeyEvent@scrin","enablemake","Room:BoardPiece","group","top","getBottomCell","clist","sblk","bcell","bx","by","i","length","seterr","err","isRoom","comp","id","getTopCell","isRectangle","d","getRectSize","cols","rows","countConn","c1","c2","bd","board","corners","getx","count","isCheckerboard","Cross","minbx","maxbx","minby","maxby","adj","getc","sh","isShade","Cell","maxnum","minnum","setQsub","qnum","getRoom","room","get8clist","list","dx","c","dy","push","Border","hascross","Border@scrin","isLine","sidecell","Board","hasborder","borderAsLine","addExtraInfo","sdblkmgr","addInfoList","klass","AreaDiagShadeGraph","createExtraObject","initExtraObject","col","row","Room","r","Board@antmill","BoardExec","adjustBoardData2","key","AreaShadeGraph","enabled","AreaUnshadeGraph","AreaDiagShadeGraph:AreaGraphBase","relation","cell.qans","setComponentRefs","obj","component","sdblk","getObjNodeList","nodeobj","sdblknodes","resetObjNodeList","isnodevalid","isedgevalidbynodeobj","cell1","cell2","getSideObjByNodeObj","cells","Graphic@scrin","hideHatena","gridcolor_type","enablebcolor","shadecolor","trialcolor","linetrialcolor","getLineColor","error","errlinecolor","trial","qanscolor","circleratio","paint","drawBGCells","drawShadedCells","drawLines","drawCircledNumbers","drawCrossMarks","drawBaseMarks","drawTarget","circlestrokecolor_func","numbercolor_func","circlefillcolor_func","g","vinc","rsize","lineWidth","cw","range","px","py","vid","qsub","bw","bh","strokeStyle","mbcolor","strokeCross","vhide","Graphic@antmill","bgcellcolor_func","drawGrid","drawChassis","drawBorderClues","size","lm","blist","borders","quescolor","strokeRect","Encode@scrin","decodePzpr","type","decodeNumber16","encodePzpr","encodeNumber16","FileIO@scrin","decodeData","decodeCellQnum","decodeCellAns","encodeData","encodeCellQnum","encodeCellAns","Encode@antmill","genericDecodeNumber16","adjborder","right","bottom","genericEncodeNumber16","b","FileIO@antmill","decodeBorder","ca","encodeBorder","AnsCheck","checklist","checkClueShade","checkAllCell","isNum","checkDoubleNumberShade","checkAllBlock","sblkmgr","w","h","a","n","checkNumberAndSize","checkAllArea","checkRoomRect","checkAllRoom","checkConnectShadeDiag","checkOneArea","checkIsolatedRoom","checkDeadendRoom","checkBranchRoom","checkInnerRect","areas","ublkmgr","components","x1","y1","x2","y2","failcode","add","checkOnly","func","code","AnsCheck@antmill","checkOverShadeCell","checkSingleShadeCell","checkEqualSideCell","checkSideAreaCell","checkUnequalSideCell"],"mappings":"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"}