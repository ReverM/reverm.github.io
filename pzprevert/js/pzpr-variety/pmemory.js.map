{"version":3,"file":"pmemory.js","sources":["../../../src/variety/pmemory.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","draggingSG","inputModes","edit","play","mouseinput_clear","this","puzzle","playmode","inputFixedQsub","cell","getcell","isnull","ice","dir","setQues","adjborder","border","cell2","adjacent","drawaround","mouseinputAutoEdit","btn","firstPoint","bx","set","inputPoint","dx","dy","by","inputData","mouseend","draw","prevPos","equals","prev","getc","qnum","setQnum","merge","getnb","board","mergeCells","inputShade","mouseCell","clist","room","i","length","dispInfoRoom","mousereset","shape","getBlockShapes","id","rooms","roommgr","components","setinfo","hasinfo","redraw","autoplay_func","Cell","invalidNeighbors","lcnt","bd","x","y","isLineStraight","top","isLine","cellinside","left","BoardExec","adjustBoardData","key","d","moved","after","getAfterPos","isdel","push","adjustBoardData2","pos","Board","hasborder","cell1","b1","b2","filter","c1","sidecell","c2","each","rebuildInfo","common","call","disableInfo","items","c","topleft","add","maxbx","maxby","enableInfo","AreaRoomGraph","enabled","LineGraph","Graphic","bgcellcolor_func","icecolor","irowake","circleratio","paint","drawBGCells","drawGrid","drawPekes","drawLines","drawCircles","drawMBs","drawBorders","drawChassis","getCircleStrokeColor","getCircleFillColor","mouse","error","qinfo","errcolor1","quescolor","Encode","decodePzpr","type","decodeBorder","decode1Cell","rebuild","genericDecodeBinary","r","newval","ques","encodePzpr","encodeBorder","encode1Cell","genericEncodeBinary","FileIO","decodeData","decodeBorderQues","decodeCell","ca","val","decodeBorderLine","decodeCellQsub","encodeData","encodeBorderQues","encodeCell","encodeBorderLine","encodeCellQsub","AnsCheck","checklist","checkAdjacency","adjs","invalid","failcode","checkOnly","seterr","checkRegionCopies","checkSingleError","getConfig","groups","len","valid","rx","checkCircleEndpoint","checkAllCell","checkShadedRegions","some","FailCode","shEndpoint","bkNoLine"],"mappings":"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"}