{"version":3,"file":"portal.js","sources":["../../../src/variety/portal.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","inputModes","edit","play","autoedit_func","autoplay_func","KeyEvent","enablemake","keyinput","ca","cell","this","cursor","getc","isnull","setValid","ques","key_inputqnum","Board","hasborder","createExtraObject","subspace","klass","SubspaceList","rebuildInfo","bd","nums","allclear","Set","each","qnum","add","forEach","num","Subspace","common","call","group","value","miscount","initialize","setpos","isLine","seterr","setinfo","cells","board","filter","length","sideobj","SubspaceList:PieceList","Array","prototype","splice","Border","isQuesBorder","sidecell","isEmpty","checkStableLine","c1","c2","isLineNG","Cell","maxnum","cols","rows","noLP","dir","posthook","setQues","isValidNum","adjacent","adjborder","removeLine","lines","linkobjs","linegraph","components","id","path","push","len","nodes","color","bx","clist","by","writeone","item","puzzle","redraw","LineGraph","enabled","makeClist","rebuild2","setComponentRefs","isedgevalidbylinkobj","addEdgeByLinkObj","incdecLineCount","border","isset","linkgroup","i","ltotal","countprop","resetLineCount","repaintNodes","blist_all","BorderList","objs","getedgeobjs","extend","o","painter","repaintLines","GraphComponent","getLinkObjByNodes","node1","node2","obj","Graphic","irowake","hideHatena","gridcolor_type","paint","drawBGCells","drawDashedGrid","drawCircledNumbers","drawPekes","drawLines","drawBorders","drawChassis","drawTarget","getBorderColor","getBGCellColor","isValid","getBGCellColor_error1","Encode","decodePzpr","type","decodeNumber16","decodeEmpty","encodePzpr","encodeNumber16","encodeEmpty","FileIO","decodeData","decodeCell","decodeBorderLine","encodeData","encodeCell","encodeBorderLine","AnsCheck","checklist","checkStraightUnmarked","checkAllCell","isNum","isLineCurve","checkPortalExit","subs","sub","lcnt","left","right","top","bottom","failcode","checkOnly","checkEditorPortal","checkNoLine","checkLineCount","val","code","checkOverlapPortal"],"mappings":"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"}