/*! @license pzpr.js v7f9addbe (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(e,t){"object"==typeof module&&module.exports?module.exports=[e,t]:pzpr.classmgr.makeCustom(e,t)}(["yajikazu","outofsight"],{MouseEvent:{RBShadeCell:!0,use:!0,inputModes:{edit:["number","direc","clear","info-blk"],play:["shade","unshade","peke","info-blk"]},autoplay_func:"cellpeke",mouseinputAutoEdit:function(){this.mousestart||this.mousemove?this.notInputted()&&this.inputdirec():this.mouseend&&this.notInputted()&&this.prevPos.getc()===this.getcell()&&this.inputqnum()}},"MouseEvent@outofsight":{inputdirec:function(){var e,t,i=this.getpos(0);this.prevPos.equals(i)||((e=this.prevPos.getc()).isnull||(t=this.prevPos.getdir(i,2))!==e.NDIR&&(e.setQdir(e.qdir!==t||-1===e.qnum?t:0),0!==e.qdir&&-1===e.qnum&&e.setQnum(-2),e.draw()),this.prevPos=i)}},KeyEvent:{enablemake:!0,moveTarget:function(e){return!e.match(/shift/)&&this.moveTCell(e)},keyinput:function(e){this.key_inputdirec_common(e,null)||this.key_inputqnum(e)}},Cell:{minnum:0},"Cell@outofsight":{numberAsLetter:!0,minnum:1,maxnum:6},Board:{hasborder:1},"Board@outofsight":{rebuildInfo:function(){var t=this.puzzle.playeronly;this.cell.each(function(e){(-2===e.qnum||2<e.qnum)&&(t=!1)}),this.isMono=t,this.common.rebuildInfo.call(this)}},BoardExec:{adjustBoardData:function(e,t){this.adjustNumberArrow(e,t)}},AreaUnshadeGraph:{enabled:!0},Graphic:{enablebcolor:!0,bgcellcolor_func:"qsub1",fontShadecolor:"rgb(96,96,96)",paint:function(){this.drawBGCells(),"outofsight"===this.pid?this.drawGrid():this.drawDashedGrid(),this.drawShadedCells(),"outofsight"===this.pid&&(this.drawCellArrows(!0),this.drawCircles()),this.drawArrowNumbers(),this.drawChassis(),this.drawPekes(),this.drawTarget()}},"Graphic@outofsight":{colors:["gray","red","blue","green","#c000c0","#ff8000","#00c0c0"],circlestrokecolor_func:"null",circleratio:[.2,.16],getQuesNumberColor:function(e){if(-1===e.getNum())return null;if(2===this.puzzle.getConfig("disptype_interbd"))return this.getQuesNumberColor_mixed(e);e=e.qnum;return 1<=e&&e<=6?this.colors[e]:this.colors[0]},getCellArrowOutline:function(e){return this.board.isMono&&2===e.qnum?this.getQuesNumberColor_mixed(e):null},getCellArrowColor:function(e){return this.board.isMono?1===e.qnum?this.getQuesNumberColor_mixed(e):null:1===this.puzzle.getConfig("disptype_interbd")?this.getQuesNumberColor(e):null},getCircleStrokeColor:function(e){return 0===e.qdir?this.getCellArrowOutline(e):null},getCircleFillColor:function(e){return 0===e.qdir?this.getCellArrowColor(e):null},getNumberText:function(e,t){return 1===this.puzzle.getConfig("disptype_interbd")||this.board.isMono?"":this.getNumberTextCore_letter(t)}},Encode:{decodePzpr:function(e){this.decodeArrowNumber16()},encodePzpr:function(e){this.encodeArrowNumber16()}},FileIO:{decodeData:function(){this.decodeCellDirecQnum(),this.decodeCellAns(),this.decodeBorderLine()},encodeData:function(){this.encodeCellDirecQnum(),this.encodeCellAns(),this.encodeBorderLineIfPresent()}},AnsCheck:{checklist:["checkShadeCellExist","checkAdjacentShadeCell","checkConnectUnshadeRB","checkArrowNumber","doneShadingDecided"],checkArrowNumber:function(){for(var e=this.board,t=0;t<e.cell.length;t++){var i=e.cell[t];if(i.isValidNum()&&0!==i.qdir&&!i.isShade()){for(var r=i.getaddr(),o=i.qdir,n=new this.klass.CellList;;){r.movedir(o,2);var s=r.getc();if(s.isnull)break;n.add(s)}if(!this.isValidArrow(i,n)){if(this.failcode.add("anShadeNe"),this.checkOnly)break;i.seterr(1),n.seterr(1)}}}},isValidArrow:function(e,t){return e.qnum===t.filter(function(e){return e.isShade()}).length}},"AnsCheck@outofsight":{isValidArrow:function(t,e){return!e.some(function(e){return e.isUnshade()&&e.isValidNum()&&e.qnum===t.qnum})}}});
//# sourceMappingURL=yajikazu.js.map