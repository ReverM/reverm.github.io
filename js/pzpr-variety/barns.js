/*! @license pzpr.js v7f9addbe (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(e,t){"object"==typeof module&&module.exports?module.exports=[e,t]:pzpr.classmgr.makeCustom(e,t)}(["barns"],{MouseEvent:{inputModes:{edit:["border","ice","info-line"],play:["line","peke","info-line"]},mouseinput_auto:function(){this.puzzle.playmode?"left"===this.btn?this.mousestart||this.mousemove?this.inputLine():this.mouseend&&this.notInputted()&&this.inputpeke():"right"===this.btn&&(this.mousestart||this.mousemove)&&this.inputpeke():this.puzzle.editmode&&(this.mousestart||this.mousemove)&&("left"===this.btn?this.inputborder():"right"===this.btn&&this.inputIcebarn())}},Border:{enableLineNG:!0,isLineNG:function(){return 1===this.ques}},Board:{cols:8,rows:8,hasborder:1},LineGraph:{enabled:!0,isLineCross:!0},Graphic:{irowake:!0,gridcolor_type:"LIGHT",bgcellcolor_func:"icebarn",maxYdeg:.7,paint:function(){this.drawBGCells(),this.drawDashedGrid(),this.drawBorders(),this.drawLines(),this.drawPekes(),this.drawChassis()}},Encode:{decodePzpr:function(e){this.decodeBarns(),this.decodeBorder()},encodePzpr:function(e){this.encodeBarns(),this.encodeBorder()},decodeBarns:function(){for(var e=0,t=this.outbstr,s=this.board,i=[16,8,4,2,1],n=0;n<t.length;n++){for(var o=parseInt(t.charAt(n),32),r=0;r<5;r++)s.cell[e]&&(s.cell[e].ques=o&i[r]?6:0,e++);if(!s.cell[e])break}this.outbstr=t.substr(n+1)},encodeBarns:function(){for(var e="",t=0,s=0,i=this.board,n=[16,8,4,2,1],o=0;o<i.cell.length;o++)6===i.cell[o].ques&&(s+=n[t]),5===++t&&(e+=s.toString(32),s=t=0);0<t&&(e+=s.toString(32)),this.outbstr+=e}},FileIO:{decodeData:function(){this.decodeCell(function(e,t){"1"===t&&(e.ques=6)}),this.decodeBorderQues(),this.decodeBorderLine()},encodeData:function(){this.encodeCell(function(e){return 6===e.ques?"1 ":". "}),this.encodeBorderQues(),this.encodeBorderLine()}},AnsCheck:{checklist:["checkBranchLine","checkCrossOutOfIce","checkIceLines","checkOneLoop","checkNoLine","checkDeadendLine+"],checkCrossOutOfIce:function(){this.checkAllCell(function(e){return 4===e.lcnt&&!e.ice()},"lnCrossExIce")}}});
//# sourceMappingURL=barns.js.map