{"version":3,"file":"kurodoko.js","sources":["../../../src/variety/kurodoko.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","use","autoedit_func","autoplay_func","MouseEvent@kurodoko","inputModes","edit","play","RBShadeCell","MouseEvent@teri","mouseinputAutoPlay","this","mousestart","isDraggingLine","puzzle","key","isALT","inputQsubLine","inputcell","dispInfoUblk","cell","getcell","mousereset","isnull","isUnshade","getVisibleCells","setinfo","board","hasinfo","redraw","MouseEvent@nurimisaki","MouseEvent@cave","KeyEvent","enablemake","Cell","numberRemainsUnshaded","maxnum","cols","rows","minnum","seterr","num","isenableSetError","error","Math","min","getVisibleDirections","dir","outer","adjacent","target","bx","by","clist","cellinside","left","right","extend","top","bottom","Cell@teri","topdist","botdist","delta","maxtop","maxbot","end","x","newtarget","start","getc","isShade","maxrect","count","max","CellList","i","length","Board","hasborder","AreaUnshadeGraph","enabled","AreaShadeGraph@cave","Graphic","hideHatena","gridcolor_type","qanscolor","enablebcolor","numbercolor_func","circleratio","paint","drawBGCells","drawGrid","drawShadedCells","drawDotCells","pid","drawBorderQsubs","drawPekes","drawCircledNumbers","drawChassis","drawTarget","getBGCellColor","qinfo","errbcolor1","Graphic@cave","qsub","bcolor","drawTrialMarks","g","vinc","dsize","lineWidth","cw","range","cells","vid","id","trial","strokeStyle","trialcolor","strokeCross","bw","bh","vhide","drawDashedGrid","drawQuesNumbers","Encode","decodePzpr","type","decodeNumber16","encodePzpr","encodeNumber16","decodeKanpen","fio","decodeCellQnum_kanpen","encodeKanpen","encodeCellQnum_kanpen","FileIO","decodeData","decodeCellQnum","decodeCellAns","decodeBorderAns","decodeBorderLine","encodeData","encodeCellQnum","encodeCellAns","border","some","encodeBorderAns","encodeBorderLineIfPresent","kanpenOpen","decodeCellQnumAns_kanpen","kanpenSave","encodeCellQnumAns_kanpen","kanpenOpenXML","decodeCellQnum_XMLBoard","decodeCellAns_XMLAnswer","kanpenSaveXML","encodeCellQnum_XMLBoard","encodeCellAns_kurodoko_XMLAnswer","UNDECIDED_NUM_XML","encodeCellXMLArow","qnum","qans","AnsCheck","checklist","checkViewOfNumber","boardcell","cc","isValidNum","failcode","add","checkOnly","AnsCheck@nurimisaki","check2x2UnshadeCell","check2x2Block","checkCirclePromontory","self","checkAllCell","isNum","isPromontory","checkNonCircleNotPromontory","noNum","countUnshade","AnsCheck@cave","checkConnectShadeOutside","bd","r","sblkmgr","components","d","getRectSize","x1","minbx","x2","maxbx","y1","minby","y2","maxby"],"mappings":"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"}