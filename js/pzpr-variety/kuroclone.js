/*! @license pzpr.js v7f9addbe (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(e,t){"object"==typeof module&&module.exports?module.exports=[e,t]:pzpr.classmgr.makeCustom(e,t)}(["kuroclone"],{MouseEvent:{use:!0,inputModes:{edit:["border","number","direc","clear"],play:["shade","unshade"]},mouseinput_auto:function(){this.puzzle.playmode?(this.mousestart||this.mousemove)&&this.inputcell():this.puzzle.editmode&&(this.mousestart||this.mousemove?this.isBorderMode()?this.inputborder():this.inputdirec():this.mouseend&&this.notInputted()&&this.inputqnum())}},KeyEvent:{enablemake:!0,moveTarget:function(e){return!e.match(/shift/)&&this.moveTCell(e)},keyinput:function(e){this.key_inputdirec(e)||this.key_inputqnum(e)}},Cell:{numberRemainsUnshaded:!0,maxnum:function(){return this.board.cols*this.board.rows>>1}},Board:{hasborder:1},BoardExec:{adjustBoardData:function(e,t){this.adjustNumberArrow(e,t)}},AreaRoomGraph:{enabled:!0,hastop:!1},AreaShadeGraph:{enabled:!0},Graphic:{gridcolor_type:"LIGHT",enablebcolor:!0,bgcellcolor_func:"qsub1",paint:function(){this.drawBGCells(),this.drawGrid(),this.drawShadedCells(),this.drawArrowNumbers(),this.drawBorders(),this.drawChassis(),this.drawBoxBorders(!1),this.drawTarget()}},Encode:{decodePzpr:function(e){this.decodeBorder(),this.decodeArrowNumber16()},encodePzpr:function(e){this.encodeBorder(),this.encodeArrowNumber16()}},FileIO:{decodeData:function(){this.decodeAreaRoom(),this.decodeCellDirecQnum(),this.decodeCellAns()},encodeData:function(){this.encodeAreaRoom(),this.encodeCellDirecQnum(),this.encodeCellAns()}},AnsCheck:{checklist:["checkSideAreaShadeCell","checkUnitExists","checkArrowNumber","checkUnitsCount","checkUnitsShape","checkNumberHasArrow"],checkSideAreaShadeCell:function(){this.checkSideAreaCell(function(e,t){return e.isShade()&&t.isShade()},!1,"cbShade")},checkUnitExists:function(){for(var e=this.board,t=0;t<e.cell.length;t++){var i=e.cell[t];if(i.isNum()&&0!==i.qdir)if(!i.getaddr().movedir(i.qdir,2).getc().isShade()){if(this.failcode.add("anNoShade"),this.checkOnly)break;i.seterr(1)}}},checkArrowNumber:function(){for(var e=this.board,t=0;t<e.cell.length;t++){var i=e.cell[t];if(i.isValidNum()&&0!==i.qdir){var r=i.getaddr().movedir(i.qdir,2).getc();if(r.sblk&&r.sblk.clist.length!==i.qnum){if(this.failcode.add("anUnitNe"),this.checkOnly)break;i.seterr(1),r.sblk&&r.sblk.clist.seterr(1)}}}},checkUnitsCount:function(){for(var e=this.board.roommgr.components,t=0;t<e.length;t++){var i=this.getUnits(e[t]);if(2!==i.length){if(this.failcode.add("bkUnitNe2"),this.checkOnly)break;e[t].clist.seterr(1)}}},checkUnitsShape:function(){for(var e=this.board.roommgr.components,t=0;t<e.length;t++){var i=this.getUnits(e[t]);if(2===i.length&&this.isDifferentShapeBlock(i[0],i[1])){if(this.failcode.add("bkDifferentShape"),this.checkOnly)break;i[0].clist.seterr(1),i[1].clist.seterr(1)}}},getUnits:function(e){var t=new Set;return e.clist.each(function(e){e.isShade()&&t.add(e.sblk)}),Array.from(t)}}});
//# sourceMappingURL=kuroclone.js.map