/*! @license pzpr.js v7f9addbe (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(e,t){"object"==typeof module&&module.exports?module.exports=[e,t]:pzpr.classmgr.makeCustom(e,t)}(["lookair"],{MouseEvent:{use:!0,inputModes:{edit:["number","clear"],play:["shade","unshade"]},autoedit_func:"qnum",autoplay_func:"cell"},KeyEvent:{enablemake:!0},Cell:{maxnum:5,minnum:0,countDir5ShadedCell:function(){for(var e=0,t=this.adjacent,r=[this,t.top,t.bottom,t.left,t.right],i=0;i<5;i++)!r[i].isnull&&r[i].isShade()&&e++;return e}},AreaShadeGraph:{enabled:!0},Graphic:{enablebcolor:!0,bgcellcolor_func:"qsub1",paint:function(){this.drawBGCells(),this.drawDashedGrid(),this.drawShadedCells(),this.drawQuesNumbers(),this.drawChassis(),this.drawTarget()}},Encode:{decodePzpr:function(e){this.decodeNumber10()},encodePzpr:function(e){this.encodeNumber10()}},FileIO:{decodeData:function(){this.decodeCellQnum(),this.decodeCellAns()},encodeData:function(){this.encodeCellQnum(),this.encodeCellAns()}},AnsCheck:{checklist:["checkShadeCellExist+","checkSquareShade","checkLookair","checkDir5ShadeCell+"],checkDir5ShadeCell:function(){for(var e=this.board,t=0;t<e.cell.length;t++){var r=e.cell[t];if(r.isValidNum()&&r.getNum()!==r.countDir5ShadedCell()){if(this.failcode.add("nmShade5Ne"),this.checkOnly)break;r.seterr(1)}}},checkSquareShade:function(){this.checkAllArea(this.board.sblkmgr,function(e,t,r,i){return e*t===r&&e===t},"csNotSquare")},checkLookair:function(){var i=this.board;function e(e,t,r){t=i.getc(t,r);if(t.isnull)return 1;if(!t.isShade())return 0;r=t.sblk.clist;if(e.length===r.length){if(this.failcode.add("lookairBC"),this.checkOnly)return 2;e.seterr(1),r.seterr(1)}return 1}e:for(var t=0;t<i.sblkmgr.components.length;t++){for(var r=i.sblkmgr.components[t].clist,a=r.getRectSize(),n=a.x1;n<=a.x2;n+=2)for(var l=a.y1-2;l>=i.minby;l-=2){if(1===(c=e.call(this,r,n,l)))break;if(2===c)break e}for(l=a.y1;l<=a.y2;l+=2)for(var c,n=a.x1-2;n>=i.minbx;n-=2){if(1===(c=e.call(this,r,n,l)))break;if(2===c)break e}}}}});
//# sourceMappingURL=lookair.js.map