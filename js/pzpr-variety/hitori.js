/*! @license pzpr.js v7f9addbe (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(e,n){"object"==typeof module&&module.exports?module.exports=[e,n]:pzpr.classmgr.makeCustom(e,n)}(["hitori"],{MouseEvent:{RBShadeCell:!0,use:!0,inputModes:{edit:["number","clear","info-blk"],play:["shade","unshade","peke","info-blk"]},autoedit_func:"qnum",autoplay_func:"cellpeke"},KeyEvent:{enablemake:!0},Cell:{disInputHatena:!0,maxnum:function(){return Math.max(this.board.cols,this.board.rows)},posthook:{qnum:function(e){this.redDisp()},qans:function(e){this.redDisp()}},redDisp:function(){var e=this.puzzle,n=e.board;e.getConfig("autoerr")&&(e.painter.paintRange(n.minbx-1,this.by-1,n.maxbx+1,this.by+1),e.painter.paintRange(this.bx-1,n.minby-1,this.bx+1,n.maxby+1))}},Board:{hasborder:1,cols:8,rows:8},AreaUnshadeGraph:{enabled:!0},Graphic:{gridcolor_type:"LIGHT",enablebcolor:!0,bgcellcolor_func:"qsub1",errcolor1:"red",fontShadecolor:"rgb(96,96,96)",paint:function(){this.drawBGCells(),this.drawGrid(),this.drawShadedCells(),this.drawQuesNumbers_hitori(),this.drawChassis(),this.drawPekes(),this.drawTarget()},drawQuesNumbers_hitori:function(){var e,n,i=this.puzzle,t=i.board,o=i.checker;t.haserror||t.hasinfo||!i.getConfig("autoerr")?this.drawQuesNumbers():(e=(i=i.klass.CellList.prototype).seterr,n=o.failcode,o.inCheck=!0,o.checkOnly=!1,o.failcode={add:function(){}},i.seterr=i.setinfo,o.checkRowsColsSameQuesNumber(),i.seterr=e,o.failcode=n,o.inCheck=!1,i=this.range.cells,this.range.cells=t.cell,this.drawQuesNumbers(),this.range.cells=i,t.cell.setinfo(0))}},Encode:{decodePzpr:function(e){this.decodeHitori()},encodePzpr:function(e){this.encodeHitori()},decodeHitori:function(){for(var e=0,n=0,i=this.outbstr,t=this.board,n=0;n<i.length;n++){var o=t.cell[e],s=i.charAt(n);if(this.include(s,"0","9")||this.include(s,"a","z")?o.qnum=parseInt(s,36):"-"===s?(o.qnum=parseInt(i.substr(n+1,2),36),n+=2):"%"!==s&&"@"!==s||(o.qnum=-2),e++,!t.cell[e])break}this.outbstr=i.substr(n)},encodeHitori:function(){for(var e=0,n="",i=this.board,t=0;t<i.cell.length;t++){var o="",s=i.cell[t].qnum;-2===s?o="@":0<=s&&s<36?o=s.toString(36):36<=s&&s<1296?o="-"+s.toString(36):e++,0===e?n+=o:(n+=".",e=0)}0<e&&(n+="."),this.outbstr+=n},decodeKanpen:function(){this.fio.decodeCellQnum_kanpen_hitori()},encodeKanpen:function(){this.fio.encodeCellQnum_kanpen_hitori()}},FileIO:{decodeData:function(){this.decodeCellQnum(),this.decodeCellAns(),this.decodeBorderLine()},encodeData:function(){this.encodeCellQnum(),this.encodeCellAns(),this.encodeBorderLineIfPresent()},kanpenOpen:function(){this.decodeCellQnum_kanpen_hitori(),this.decodeCellAns()},kanpenSave:function(){this.encodeCellQnum_kanpen_hitori(),this.encodeCellAns()},decodeCellQnum_kanpen_hitori:function(){this.decodeCell(function(e,n){"0"!==n&&"."!==n&&(e.qnum=+n)})},encodeCellQnum_kanpen_hitori:function(){this.encodeCell(function(e){return 0<e.qnum?e.qnum+" ":"0 "})},kanpenOpenXML:function(){this.decodeCellQnum_XMLBoard_Brow(),this.decodeCellAns_XMLAnswer()},kanpenSaveXML:function(){this.encodeCellQnum_XMLBoard_Brow(),this.encodeCellAns_XMLAnswer()}},AnsCheck:{checklist:["checkShadeCellExist","checkAdjacentShadeCell","checkConnectUnshadeRB","checkRowsColsSameQuesNumber","doneShadingDecided"],checkRowsColsSameQuesNumber:function(){this.checkRowsCols(this.isDifferentNumberInClist_hitori,"nmDupRow")},isDifferentNumberInClist_hitori:function(e){e=e.filter(function(e){return e.isUnshade()&&e.isNum()});return this.isIndividualObject(e,function(e){return e.qnum})}}});
//# sourceMappingURL=hitori.js.map