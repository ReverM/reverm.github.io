{"version":3,"file":"nawabari.js","sources":["../../../src/variety/nawabari.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","autoedit_func","autoplay_func","MouseEvent@nawabari","inputModes","edit","play","MouseEvent@fourcells,fivecells","MouseEvent@heteromino","mouseinputAutoEdit","this","inputempty","MouseEvent@fourcells,fivecells,subomino","mouseinput_clear","inputFixedNumber","KeyEvent","enablemake","KeyEvent@fourcells,fivecells,subomino,heteromino","keyinput","ca","key_inputvalid","pid","key_inputqnum","cell","cursor","getc","isnull","setValid","ques","Cell","getdir4BorderCount","cnt","cblist","getdir4cblist","i","length","tcell","tborder","isEmpty","isBorder","Cell@nawabari","maxnum","minnum","Cell@fourcells","Cell@fivecells","Cell@subomino","board","cols","rows","posthook","qnum","num","room","roommgr","setExtraData","CellList@heteromino","triminoShape","rect","getRectSize","id","dx","bx","x1","dy","by","y1","CellList@subomino","seterr","err","each","error","Border","isGrid","sidecell","isValid","qans","isQuesBorder","prehook","qsub","Board","hasborder","Board@fourcells,fivecells","initBoardSize","col","row","common","call","odd","minbx","minby","maxbx","maxby","AreaRoomGraph","enabled","AreaRoomGraph@subomino","component","clist","klass","CellList","getnodeobjs","valid","some","Graphic","gridcolor_type","numbercolor_func","paint","drawBGCells","drawValidDashedGrid","drawQansBorders","drawQuesBorders","drawCircles","drawChassis","drawQuesNumbers","drawBorderQsubs","drawTarget","getQuesBorderColor","border","quescolor","g","vinc","dasharray","getDashArray","blist","lineWidth","strokeStyle","gridcolor","range","borders","n","px","py","vid","bw","bh","isVert","strokeDashedLine","vhide","Graphic@heteromino,subomino","errbcolor2","circlestrokecolor_func","circleratio","getBGCellColor","info","qinfo","errbcolor1","getCircleFillColor","Encode","decodePzpr","type","decodeFivecells","encodePzpr","encodeFivecells","c","setQues","bstr","outbstr","bd","charAt","include","parseInt","substr","cm","count","pstr","qn","toString","Encode@subomino","decodeNumber16","decodeEmpty","encodeNumber16","encodeEmpty","FileIO","decodeData","decodeCell","decodeBorderAns","filever","encodeData","encodeCell","encodeBorderAns","AnsCheck","checklist","checkOverThreeCells","checkAllArea","w","h","a","checkLessThreeCells","checkOverFourCells","checkLessFourCells","checkOverFiveCells","checkLessFiveCells","checkdir4BorderAns","checkAllCell","isValidNum","checkTouchDifferent","b","cell1","cell2","l1","l2","failcode","add","checkOnly","AnsCheck@subomino","checkAreaOverlap","sides","getSideAreaInfo","small","large","ss","ls","found","ox","oy","oldcell","newcell","checkNumberValid","r","components","area"],"mappings":"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"}