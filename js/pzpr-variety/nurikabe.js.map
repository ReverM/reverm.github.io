{"version":3,"file":"nurikabe.js","sources":["../../../src/variety/nurikabe.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","use","inputModes","edit","play","autoedit_func","autoplay_func","MouseEvent@nurikabe","MouseEvent@canal","mouseinput_auto","this","puzzle","playmode","mousestart","mousemove","inputcell","notInputted","inputqcmp","editmode","inputqnum","cell","getcell","isnull","noNum","setQcmp","qcmp","draw","mousereset","KeyEvent","enablemake","Cell","numberRemainsUnshaded","Cell@canal","maxnum","board","cols","rows","minnum","updated","complete","viewclist","extendShadeClistDir","clist","dx","dy","c","relcell","isShade","add","qnum","qsub","updateViewClist","klass","CellList","updateCluesDir","updateClues","posthook","qans","num","isCmp","execConfig","length","Board@mochikoro,mochinyoro","addExtraInfo","ublk8mgr","addInfoList","AreaUnshade8Graph","Board@canal","rebuildInfo","each","common","call","AreaShadeGraph","enabled","coloring","AreaShadeGraph@mochikoro","AreaUnshadeGraph","AreaUnshade8Graph:AreaUnshadeGraph@mochikoro,mochinyoro","setComponentRefs","obj","component","ublk8","getObjNodeList","nodeobj","ublk8nodes","resetObjNodeList","getSideObjByNodeObj","list","getdir8clist","cells","i","cell2","isnodevalid","push","AreaUnshadeGraph@canal","Graphic","numbercolor_func","qanscolor","paint","drawBGCells","drawShadedCells","pid","drawDotCells","drawGrid","drawQuesNumbers","drawChassis","drawTarget","Graphic@nuribou,mochikoro,mochinyoro,norinuri","bgcellcolor_func","enablebcolor","Graphic@canal","gridcolor_type","qcmpcolor","autocmp","getQuesNumberColor","error","errcolor1","quescolor","Graphic@nurikabe,canal#1","irowakeblk","Encode","decodePzpr","type","decodeNumber16","encodePzpr","encodeNumber16","Encode@nurikabe","decodeKanpen","fio","decodeCellQnum_kanpen","encodeKanpen","encodeCellQnum_kanpen","FileIO","decodeData","decodeCellQnum","decodeCellAns","encodeData","encodeCellQnum","encodeCellAns","FileIO@nurikabe","decodeCellQnumAns","encodeCellQnumAns","kanpenOpen","decodeCellQnumAns_kanpen","kanpenSave","encodeCellQnumAns_kanpen","kanpenOpenXML","decodeCellQnumAns_XMLBoard","kanpenSaveXML","encodeCellQnumAns_XMLBoard","encodeCellAns_XMLAnswer","decodeCellXMLBoard","val","encodeCellXMLBoard","FileIO@canal","decodeCell","ca","encodeCell","AnsCheck@nurikabe","checklist","AnsCheck@nuribou#1","AnsCheck@mochikoro,mochinyoro#1","AnsCheck@canal#1","AnsCheck@norinuri#1","AnsCheck","checkDoubleNumberInUnshade","checkAllBlock","ublkmgr","isNum","w","h","a","n","checkNumberAndUnshadeSize","checkAllArea","AnsCheck@nuribou","checkBou","sblkmgr","checkCorners","bd","bx","maxbx","by","maxby","adc","adjacent","right","bottom","block1","sblk","block2","failcode","checkOnly","seterr","AnsCheck@nurikabe,nuribou,norinuri","checkNoNumberInUnshade","AnsCheck@mochikoro,mochinyoro","checkConnectUnshaded_mochikoro","checkOneArea","checkUnshadeRect","AnsCheck@mochinyoro","checkShadeNotRect","AnsCheck@canal","checkNumberAndShadeView","clues","filter","AnsCheck@norinuri","checkOverShadeCell","checkSingleShadeCell","FailCode@mochikoro,mochinyoro","cuNotRect","csRect","csDivide8"],"mappings":"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"}