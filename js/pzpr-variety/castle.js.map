{"version":3,"file":"castle.js","sources":["../../../src/variety/castle.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","inputModes","edit","play","mouseinput_auto","this","puzzle","playmode","btn","mousestart","mousemove","inputLine","mouseend","notInputted","inputpeke_ifborder","inputqcmp","inputpeke","editmode","inputdirec","inputqnum","cell","getcell","isnull","noNum","setQcmp","qcmp","draw","mousereset","inputShade","mouseCell","inputData","qnum","ques","setQues","setQnum","drawaround","KeyEvent","enablemake","moveTarget","ca","match","moveTCell","keyinput","cursor","getc","prev","key_inputdirec","key_inputqnum","Cell","minnum","maxnum","Math","max","board","cols","rows","noLP","dir","isNum","isUndecided","lcnt","posthook","num","actual","undecided","isCmp","execConfig","qdir","isValidNum","recount","pos","getaddr","movedir","border","getb","isLine","qsub","sidecell","invalidate","Border","enableLineNG","isBorder","prehook","line","redrawAroundBorder","scanResult","c0","c1","verlist","cellinside","bx","maxby","horlist","by","maxbx","isvert","extend","each","LT","RT","UP","DN","Board","hasborder","scanInside","some","y","inside","x","getx","rebuildInfo","common","call","BoardExec","adjustBoardData","key","d","adjustNumberArrow","LineGraph","enabled","Graphic","gridcolor_type","qcmpcolor","autocmp","irowake","hideHatena","paint","drawBGCells","drawGrid","drawGridGaps","drawBorders","drawArrowNumbers","drawLines","drawPekes","drawChassis","drawTarget","i","g","vinc","bd","bw","bh","lineWidth","length","vid","bx1","sidecross","by1","bx2","by2","strokeStyle","strokeLine","vhide","getBGCellColor","error","qinfo","errbcolor1","errcolor1","getQuesNumberColor","quescolor","Encode","decodePzpr","c","bstr","outbstr","ca1","charAt","parseInt","include","substr","encodePzpr","cm","count","pstr","qn","qs","toString","FileIO","decodeData","decodeCell","inp","split","decodeBorderLine","encodeData","encodeCell","join","encodeBorderLine","AnsCheck","checklist","checkArrowNumberGt","checkArrowNumber","checkArrowNumberLt","factor","code","checkAllCell","checkShadedOutside","checkUnshadedInside"],"mappings":"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"}